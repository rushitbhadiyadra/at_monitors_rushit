{
	"info": {
		"_postman_id": "74d4456b-c684-4eb5-b208-b0f3bae45726",
		"name": "Verify_decimal_value_for_range_in_segment_contact_search",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "6765444",
		"_collection_link": "https://ongageqa.postman.co/workspace/Segmentation~97a2a379-2ebf-4617-8e2a-bda7b4141f63/collection/6765444-74d4456b-c684-4eb5-b208-b0f3bae45726?action=share&creator=6765444&source=collection_link"
	},
	"item": [
		{
			"name": "create contact",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "x_username",
						"value": "{{username}}",
						"type": "text"
					},
					{
						"key": "x_password",
						"value": "{{password}}",
						"type": "text"
					},
					{
						"key": "x_account_code",
						"value": "{{account_code}}",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"email\": \"decimal_val@example.com\",\n  \"range\": \"0.7\"\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{api_domain}}/{{list_id}}/api/v2/contacts",
					"host": [
						"{{api_domain}}"
					],
					"path": [
						"{{list_id}}",
						"api",
						"v2",
						"contacts"
					]
				}
			},
			"response": []
		},
		{
			"name": "delay 200",
			"request": {
				"auth": {
					"type": "basic",
					"basic": [
						{
							"key": "username",
							"value": "proxy",
							"type": "string"
						},
						{
							"key": "password",
							"value": "ongageqa86",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [],
				"url": {
					"raw": "https://automated_tests-l2.ongage.net/delay?seconds=200",
					"protocol": "https",
					"host": [
						"automated_tests-l2",
						"ongage",
						"net"
					],
					"path": [
						"delay"
					],
					"query": [
						{
							"key": "seconds",
							"value": "200"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "create segment",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"var jsonData = pm.response.json();",
							"pm.globals.set('segment_id_decimal_value_in_range',jsonData.payload.id);"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "x_username",
						"value": "{{username}}",
						"type": "text"
					},
					{
						"key": "x_password",
						"value": "{{password}}",
						"type": "text"
					},
					{
						"key": "x_account_code",
						"value": "{{account_code}}",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"name\": \"Segment for decimal value in range\",\n    \"criteria\": [\n        {\n            \"field_id\": \"{{list_field_range_id}}\",\n            \"field_name\": \"range\",\n            \"type\": \"numeric\",\n            \"operator\": \"range\",\n            \"operand\": [\n                {\n                    \"from\": 0.5,\n                    \"to\": 1.0\n                }\n            ],\n            \"condition\": \"and\"\n        }\n    ]\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{api_domain}}/{{list_id}}/api/segments",
					"host": [
						"{{api_domain}}"
					],
					"path": [
						"{{list_id}}",
						"api",
						"segments"
					]
				}
			},
			"response": []
		},
		{
			"name": "delay 200",
			"request": {
				"auth": {
					"type": "basic",
					"basic": [
						{
							"key": "username",
							"value": "proxy",
							"type": "string"
						},
						{
							"key": "password",
							"value": "ongageqa86",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [],
				"url": {
					"raw": "https://automated_tests-l2.ongage.net/delay?seconds=200",
					"protocol": "https",
					"host": [
						"automated_tests-l2",
						"ongage",
						"net"
					],
					"path": [
						"delay"
					],
					"query": [
						{
							"key": "seconds",
							"value": "200"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "count segment",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"var jsonData = pm.response.json();",
							"pm.globals.set('segment_count_id_decimal_value_in_range',jsonData.payload.id);"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "x_username",
						"value": "{{username}}",
						"type": "text"
					},
					{
						"key": "x_password",
						"value": "{{password}}",
						"type": "text"
					},
					{
						"key": "x_account_code",
						"value": "{{account_code}}",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"segment_id\": \"{{segment_id_decimal_value_in_range}}\"\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{api_domain}}/{{list_id}}/api/contact_counts",
					"host": [
						"{{api_domain}}"
					],
					"path": [
						"{{list_id}}",
						"api",
						"contact_counts"
					]
				}
			},
			"response": []
		},
		{
			"name": "delay 200",
			"request": {
				"auth": {
					"type": "basic",
					"basic": [
						{
							"key": "username",
							"value": "proxy",
							"type": "string"
						},
						{
							"key": "password",
							"value": "ongageqa86",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [],
				"url": {
					"raw": "https://automated_tests-l2.ongage.net/delay?seconds=200",
					"protocol": "https",
					"host": [
						"automated_tests-l2",
						"ongage",
						"net"
					],
					"path": [
						"delay"
					],
					"query": [
						{
							"key": "seconds",
							"value": "200"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "get segment count",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"if (pm.response.code === 200) {",
							"    pm.test(\"Active contacts count is greater than 0\", function () {",
							"        var response = pm.response.json();",
							"        pm.expect(response.payload.active).to.be.above(0);",
							"    });",
							"}else{",
							"    pm.test(\"Active contacts count is greater than 0\", function () {",
							"        pm.expect('').to.equal(\"Count not found\");",
							"    });",
							"}",
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "x_username",
						"value": "{{username}}",
						"type": "text"
					},
					{
						"key": "x_password",
						"value": "{{password}}",
						"type": "text"
					},
					{
						"key": "x_account_code",
						"value": "{{account_code}}",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{api_domain}}/{{list_id}}/api/contact_counts/{{segment_count_id_decimal_value_in_range}}",
					"host": [
						"{{api_domain}}"
					],
					"path": [
						"{{list_id}}",
						"api",
						"contact_counts",
						"{{segment_count_id_decimal_value_in_range}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "Delete segment",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "DELETE",
				"header": [
					{
						"key": "x_username",
						"value": "{{username}}",
						"type": "text"
					},
					{
						"key": "x_password",
						"value": "{{password}}",
						"type": "text"
					},
					{
						"key": "x_account_code",
						"value": "{{account_code}}",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{api_domain}}/{{list_id}}/api/segments/{{segment_id_decimal_value_in_range}}",
					"host": [
						"{{api_domain}}"
					],
					"path": [
						"{{list_id}}",
						"api",
						"segments",
						"{{segment_id_decimal_value_in_range}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "create search report",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"var jsonData = pm.response.json();",
							"pm.globals.set('search_id_decimal_value_in_range',jsonData.payload.id);"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "x_username",
						"value": "{{username}}",
						"type": "text"
					},
					{
						"key": "x_password",
						"value": "{{password}}",
						"type": "text"
					},
					{
						"key": "x_account_code",
						"value": "{{account_code}}",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"title\": \"Search for decimal value range\",\n    \"include_behavior\": false,\n    \"filters\": {\n        \"type\": \"Active\",\n        \"criteria\": [\n            {\n                \"field_id\": \"{{list_field_range_id}}\",\n                \"field_name\": \"range\",\n                \"type\": \"numeric\",\n                \"operator\": \"range\",\n                \"operand\": [\n                    {\n                        \"from\": 0.5,\n                        \"to\": 1.0\n                    }\n                ],\n                \"case_sensitive\": 0,\n                \"condition\": \"and\"\n            }\n        ],\n        \"user_type\": \"all\"\n    },\n    \"combined_as_and\": true,\n    \"selected_fields\": [\n        \"email\",\n        \"ocx_created_date\",\n        \"ocx_status\",\n        \"ocx_unsubscribe_date\",\n        \"ocx_resubscribe_date\",\n        \"ocx_import_id\",\n        \"ocx_bounce_date\",\n        \"ocx_complaint_date\"\n    ]\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{api_domain}}/{{list_id}}/api/contact_search",
					"host": [
						"{{api_domain}}"
					],
					"path": [
						"{{list_id}}",
						"api",
						"contact_search"
					]
				}
			},
			"response": []
		},
		{
			"name": "delay 200",
			"request": {
				"auth": {
					"type": "basic",
					"basic": [
						{
							"key": "username",
							"value": "proxy",
							"type": "string"
						},
						{
							"key": "password",
							"value": "ongageqa86",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [],
				"url": {
					"raw": "https://automated_tests-l2.ongage.net/delay?seconds=200",
					"protocol": "https",
					"host": [
						"automated_tests-l2",
						"ongage",
						"net"
					],
					"path": [
						"delay"
					],
					"query": [
						{
							"key": "seconds",
							"value": "200"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "get search report",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"if (pm.response.code === 200) {",
							"    pm.test(\"Response includes expected email\", function () {",
							"        var jsonData = pm.response.json();",
							"        pm.expect(jsonData.payload[0].email).to.eql(\"decimal_val@example.com\");",
							"    });",
							"} else {",
							"    pm.test(\"Response includes expected email\", function () {",
							"        pm.expect('').to.equal(\"Search report not found\");",
							"    });",
							"}",
							"pm.globals.unset(\"segment_count_id_decimal_value_in_range\")",
							"pm.globals.unset('segment_id_decimal_value_in_range')",
							"pm.globals.unset('search_id_decimal_value_in_range')"
						],
						"type": "text/javascript"
					}
				}
			],
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "x_username",
						"value": "{{username}}",
						"type": "text"
					},
					{
						"key": "x_password",
						"value": "{{password}}",
						"type": "text"
					},
					{
						"key": "x_account_code",
						"value": "{{account_code}}",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{api_domain}}/{{list_id}}/api/contact_search/{{search_id_decimal_value_in_range}}/result",
					"host": [
						"{{api_domain}}"
					],
					"path": [
						"{{list_id}}",
						"api",
						"contact_search",
						"{{search_id_decimal_value_in_range}}",
						"result"
					]
				}
			},
			"response": []
		}
	]
}