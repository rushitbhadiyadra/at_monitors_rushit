{
	"info": {
		"_postman_id": "3d93abbb-ca2a-44af-bf7b-766545cc0b34",
		"name": "Campaign_Segmentation_List_Field_Date_1",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "6765444",
		"_collection_link": "https://ongageqa.postman.co/workspace/Segmentation~97a2a379-2ebf-4617-8e2a-bda7b4141f63/collection/6765444-3d93abbb-ca2a-44af-bf7b-766545cc0b34?action=share&creator=6765444&source=collection_link"
	},
	"item": [
		{
			"name": "Absolute-before",
			"item": [
				{
					"name": "Create Contact",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X_USERNAME",
								"type": "text",
								"value": "{{username}}"
							},
							{
								"key": "X_PASSWORD",
								"type": "text",
								"value": "{{password}}"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"type": "text",
								"value": "{{account_code}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "[\n    {\n        \"email\": \"ta_127_{{connectionId}}@hoohem.com\",\n        \"country\": \"bbbbb\"\n    }\n]"
						},
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/v2/contacts",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"v2",
								"contacts"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get old segment",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json()",
									"if(jsonData.payload.length > 0){",
									"        for (var segment of jsonData.payload) {",
									"            if(segment.name === \"Cam_seg_lst_fld_date_absolute_criteria_before-\" + pm.globals.get(\"connectionId\")){",
									"                pm.globals.set(\"listfields_absolutebefore_segment_id\", segment.id);",
									"            }",
									"        }",
									"}else{",
									"    postman.setNextRequest(\"Create_segment_list_fields_absolyte_before\")",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "X_USERNAME",
								"type": "text",
								"value": "{{username}}"
							},
							{
								"key": "X_PASSWORD",
								"type": "text",
								"value": "{{password}}"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"type": "text",
								"value": "{{account_code}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/segments",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"segments"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete_segment",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.globals.unset(\"listfields_absolutebefore_segment_id\");"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "X_USERNAME",
								"type": "text",
								"value": "{{username}}"
							},
							{
								"key": "X_PASSWORD",
								"type": "text",
								"value": "{{password}}"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"type": "text",
								"value": "{{account_code}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/segments/{{listfields_absolutebefore_segment_id}}",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"segments",
								"{{listfields_absolutebefore_segment_id}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create_segment_list_fields_absolyte_before",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();",
									"",
									"pm.globals.set(\"listfields_absolutebefore_segment_id\",jsonData.payload.id)",
									" "
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X_USERNAME",
								"value": "{{username}}",
								"type": "text"
							},
							{
								"key": "X_PASSWORD",
								"value": "{{password}}",
								"type": "text"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"value": "{{account_code}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n   \"name\":\"Cam_seg_lst_fld_date_absolute_criteria_before-{{connectionId}}\",\n   \"type\":\"Active\",\n   \"description\":\"Campaign segmentation\",\n   \"criteria\":[\n      {\n      \t\n         \"field_id\":\"{{list_field_mxyz_id}}\", \n         \"position\":1,\n         \"operator\":\"<\",\n         \"type\":\"date_absolute\",\n         \"operand\":[\n           \"01/01/2000\"\n         ],\n         \"condition\":\"and\"\n      \n      }\n   ]\n}"
						},
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/segments",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"segments"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay 10 Sec",
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=10",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "10"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Check_segment_count",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json()",
									"pm.globals.set(\"listfield_contact_id\",jsonData.payload.id);",
									" "
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X_USERNAME",
								"type": "text",
								"value": "{{username}}"
							},
							{
								"key": "X_PASSWORD",
								"type": "text",
								"value": "{{password}}"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"type": "text",
								"value": "{{account_code}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"segment_id\":\"{{listfields_absolutebefore_segment_id}}\"}"
						},
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/contact_counts",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"contact_counts"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get segment count",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json()",
									"",
									"pm.test(\"Check segment count\", function () {",
									"    if(jsonData.metadata.total === null)",
									"    {",
									"        pm.expect(jsonData.metadata.total).to.equal(null);",
									"    }",
									"    else",
									"    {",
									"        pm.expect(jsonData.metadata.total).to.equal(\"0\");",
									"    }",
									"})"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "X_USERNAME",
								"value": "{{username}}",
								"type": "text"
							},
							{
								"key": "X_PASSWORD",
								"value": "{{password}}",
								"type": "text"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"value": "{{account_code}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/contact_counts/{{listfield_contact_id}}",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"contact_counts",
								"{{listfield_contact_id}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Update contact1",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "X_USERNAME",
								"type": "text",
								"value": "{{username}}"
							},
							{
								"key": "X_PASSWORD",
								"type": "text",
								"value": "{{password}}"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"type": "text",
								"value": "{{account_code}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"ta_127_{{connectionId}}@hoohem.com\",\n    \"mxyz\": \"01/02/2000\"\n}"
						},
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/v2/contacts",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"v2",
								"contacts"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay 200 Sec",
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=200",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "200"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay 200 Sec",
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=200",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "200"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Search contact report",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();",
									"pm.globals.set(\"contact_report_id\",jsonData.payload.id)",
									" "
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X_USERNAME",
								"value": "{{username}}",
								"type": "text"
							},
							{
								"key": "X_PASSWORD",
								"value": "{{password}}",
								"type": "text"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"value": "{{account_code}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"title\": \"List-field-date-absolute-before-match\",\n    \"include_behavior\": false,\n    \"filters\": {\n        \"type\": \"Active\",\n        \"criteria\": [\n            {\n                \"field_name\": \"segment\",\n                \"type\": \"segment\",\n                \"operator\": \"=\",\n                \"operand\": [\n                    \"{{listfields_absolutebefore_segment_id}}\"\n                ],\n                \"case_sensitive\": 0,\n                \"condition\": \"and\"\n            }\n        ],\n        \"user_type\": \"all\"\n    },\n    \"combined_as_and\": true,\n    \"selected_fields\": [\n        \"email\",\n        \"ocx_created_date\",\n        \"ocx_status\",\n        \"ocx_unsubscribe_date\",\n        \"ocx_resubscribe_date\",\n        \"ocx_import_id\",\n        \"ocx_bounce_date\",\n        \"ocx_complaint_date\"\n    ]\n}"
						},
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/contact_search",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"contact_search"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay 100 Sec",
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=100",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "100"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay 10 Sec",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.globals.set(\"report_count\", 0);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=10",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "10"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay_20_Sec_1",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var count = pm.globals.get(\"report_count\");",
									"count += 1",
									"",
									"pm.globals.set(\"report_count\", count);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=20",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "20"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Contact activity result",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var reportCount = pm.globals.get(\"report_count\");",
									"if(reportCount <=3){",
									"    if(pm.response.code === 412){",
									"        postman.setNextRequest(\"Delay_20_Sec_1\")",
									"        console.log(pm.response.json())",
									"    }else{",
									"        var jsonData = pm.response.json();",
									"        count = 0",
									"        if(jsonData.payload.length > 0){",
									"            jsonData.payload.forEach(function(data, index) {",
									"                if(data.email === \"ta_127_\"+pm.globals.get(\"connectionId\")+\"@hoohem.com\"){",
									"                    count += 1",
									"                    pm.test(\"Check Campaign-segmentation-List-field-Date-Absolute-criteria-before\", function () {",
									"                        pm.expect(\" \").to.equal(\"ta_127_\"+pm.globals.get(\"connectionId\")+\"@hoohem.com\");",
									"                    })        ",
									"                }",
									"            })",
									"        }",
									"        if(count === 0){",
									"            pm.test(\"Check Campaign-segmentation-List-field-Date-Absolute-criteria-before\", function () {",
									"                pm.expect(\"ta_127_\"+pm.globals.get(\"connectionId\")+\"@hoohem.com\").to.equal(\"ta_127_\"+pm.globals.get(\"connectionId\")+\"@hoohem.com\");",
									"            }) ",
									"        }",
									"    }",
									"}else{",
									"    var jsonData = pm.response.json();",
									"    count = 0",
									"    if(jsonData.payload.length > 0){",
									"        jsonData.payload.forEach(function(data, index) {",
									"            if(data.email === \"ta_127_\"+pm.globals.get(\"connectionId\")+\"@hoohem.com\"){",
									"                count += 1",
									"                pm.test(\"Check Campaign-segmentation-List-field-Date-Absolute-criteria-before\", function () {",
									"                    pm.expect(\" \").to.equal(\"ta_127_\"+pm.globals.get(\"connectionId\")+\"@hoohem.com\");",
									"                })        ",
									"            }",
									"        })",
									"    }",
									"    if(count === 0){",
									"        pm.test(\"Check Campaign-segmentation-List-field-Date-Absolute-criteria-before\", function () {",
									"            pm.expect(\"ta_127_\"+pm.globals.get(\"connectionId\")+\"@hoohem.com\").to.equal(\"ta_127_\"+pm.globals.get(\"connectionId\")+\"@hoohem.com\");",
									"        }) ",
									"    }",
									"}",
									"pm.globals.unset(\"report_count\");"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "X_USERNAME",
								"value": "{{username}}",
								"type": "text"
							},
							{
								"key": "X_PASSWORD",
								"value": "{{password}}",
								"type": "text"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"value": "{{account_code}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/contact_activity/{{contact_report_id}}/result?limit=5000",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"contact_activity",
								"{{contact_report_id}}",
								"result"
							],
							"query": [
								{
									"key": "limit",
									"value": "5000"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Contact update2",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "X_USERNAME",
								"value": "{{username}}",
								"type": "text"
							},
							{
								"key": "X_PASSWORD",
								"value": "{{password}}",
								"type": "text"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"value": "{{account_code}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"ta_127_{{connectionId}}@hoohem.com\",\n    \"mxyz\": \"12/25/1999\"\n}"
						},
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/v2/contacts",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"v2",
								"contacts"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay 200 Sec",
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=200",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "200"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay 200 Sec",
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=200",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "200"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Search contact report",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();",
									"",
									"pm.globals.set(\"contact_report_id\",jsonData.payload.id)",
									" "
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X_USERNAME",
								"value": "{{username}}",
								"type": "text"
							},
							{
								"key": "X_PASSWORD",
								"value": "{{password}}",
								"type": "text"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"value": "{{account_code}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"title\": \"List-field-date-absolute-before-not-match\",\n    \"include_behavior\": false,\n    \"filters\": {\n        \"type\": \"Active\",\n        \"criteria\": [\n            {\n                \"field_name\": \"segment\",\n                \"type\": \"segment\",\n                \"operator\": \"=\",\n                \"operand\": [\n                    \"{{listfields_absolutebefore_segment_id}}\"\n                ],\n                \"case_sensitive\": 0,\n                \"condition\": \"and\"\n            }\n        ],\n        \"user_type\": \"all\"\n    },\n    \"combined_as_and\": true,\n    \"selected_fields\": [\n        \"email\",\n        \"ocx_created_date\",\n        \"ocx_status\",\n        \"ocx_unsubscribe_date\",\n        \"ocx_resubscribe_date\",\n        \"ocx_import_id\",\n        \"ocx_bounce_date\",\n        \"ocx_complaint_date\"\n    ]\n}"
						},
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/contact_search",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"contact_search"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay 100 Sec",
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=100",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "100"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay 10 Sec",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.globals.set(\"report_count\", 0);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=10",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "10"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay_20_Sec_2",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var count = pm.globals.get(\"report_count\");",
									"count += 1",
									"",
									"pm.globals.set(\"report_count\", count);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=20",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "20"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Contact activity result",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var reportCount = pm.globals.get(\"report_count\");",
									"if(reportCount <=3){",
									"    if(pm.response.code === 412){",
									"        postman.setNextRequest(\"Delay_20_Sec_2\")",
									"        console.log(pm.response.json())",
									"    }else{",
									"        var jsonData = pm.response.json();",
									"        count = 0",
									"        if(jsonData.payload.length > 0){",
									"            jsonData.payload.forEach(function(data, index) {",
									"                if(data.email === \"ta_127_\"+pm.globals.get(\"connectionId\")+\"@hoohem.com\"){",
									"                    count += 1",
									"                    pm.test(\"Check Campaign-segmentation-List-field-Date-Absolute-criteria-before\", function () {",
									"                        pm.expect(\"ta_127_\"+pm.globals.get(\"connectionId\")+\"@hoohem.com\").to.equal(\"ta_127_\"+pm.globals.get(\"connectionId\")+\"@hoohem.com\");",
									"                    })        ",
									"                }",
									"            })",
									"        }",
									"        if(count === 0){",
									"            pm.test(\"Check Campaign-segmentation-List-field-Date-Absolute-criteria-before\", function () {",
									"                pm.expect(\"\").to.equal(\"ta_127_\"+pm.globals.get(\"connectionId\")+\"@hoohem.com\");",
									"            }) ",
									"        }",
									"    }",
									"}else{",
									"    var jsonData = pm.response.json();",
									"    count = 0",
									"    if(jsonData.payload.length > 0){",
									"        jsonData.payload.forEach(function(data, index) {",
									"            if(data.email === \"ta_127_\"+pm.globals.get(\"connectionId\")+\"@hoohem.com\"){",
									"                count += 1",
									"                pm.test(\"Check Campaign-segmentation-List-field-Date-Absolute-criteria-before\", function () {",
									"                    pm.expect(\"ta_127_\"+pm.globals.get(\"connectionId\")+\"@hoohem.com\").to.equal(\"ta_127_\"+pm.globals.get(\"connectionId\")+\"@hoohem.com\");",
									"                })        ",
									"            }",
									"        })",
									"    }",
									"    if(count === 0){",
									"        pm.test(\"Check Campaign-segmentation-List-field-Date-Absolute-criteria-before\", function () {",
									"            pm.expect(\"\").to.equal(\"ta_127_\"+pm.globals.get(\"connectionId\")+\"@hoohem.com\");",
									"        }) ",
									"    }",
									"}",
									"pm.globals.unset(\"report_count\");"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "X_USERNAME",
								"type": "text",
								"value": "{{username}}"
							},
							{
								"key": "X_PASSWORD",
								"type": "text",
								"value": "{{password}}"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"type": "text",
								"value": "{{account_code}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/contact_activity/{{contact_report_id}}/result?limit=5000",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"contact_activity",
								"{{contact_report_id}}",
								"result"
							],
							"query": [
								{
									"key": "limit",
									"value": "5000"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Contact update3",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "X_USERNAME",
								"type": "text",
								"value": "{{username}}"
							},
							{
								"key": "X_PASSWORD",
								"type": "text",
								"value": "{{password}}"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"type": "text",
								"value": "{{account_code}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"ta_127_{{connectionId}}@hoohem.com\",\n    \"mxyz\": \"\"\n}"
						},
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/v2/contacts",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"v2",
								"contacts"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete segment",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.globals.unset(\"listfields_absolutebefore_segment_id\");",
									"pm.globals.unset(\"listfield_contact_id\");",
									"pm.globals.unset(\"contact_report_id\");"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "X_USERNAME",
								"value": "{{username}}",
								"type": "text"
							},
							{
								"key": "X_PASSWORD",
								"value": "{{password}}",
								"type": "text"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"value": "{{account_code}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/segments/{{listfields_absolutebefore_segment_id}}",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"segments",
								"{{listfields_absolutebefore_segment_id}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Absolute-after",
			"item": [
				{
					"name": "Get old segment",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json()",
									"if(jsonData.payload.length > 0){",
									"        for (var segment of jsonData.payload) {",
									"            if(segment.name === \"Cam_seg_lst_fld_date_absolute_criteria_after-\" + pm.globals.get(\"connectionId\")){",
									"                pm.globals.set(\"listfields_absoluteafter_segment_id\", segment.id);",
									"            }",
									"        }",
									"}else{",
									"    postman.setNextRequest(\"Create_segment_list_fields_absolyte_after\")",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "X_USERNAME",
								"type": "text",
								"value": "{{username}}"
							},
							{
								"key": "X_PASSWORD",
								"type": "text",
								"value": "{{password}}"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"type": "text",
								"value": "{{account_code}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/segments",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"segments"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete_segment",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.globals.unset(\"listfields_absoluteafter_segment_id\");"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "X_USERNAME",
								"type": "text",
								"value": "{{username}}"
							},
							{
								"key": "X_PASSWORD",
								"type": "text",
								"value": "{{password}}"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"type": "text",
								"value": "{{account_code}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/segments/{{listfields_absoluteafter_segment_id}}",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"segments",
								"{{listfields_absoluteafter_segment_id}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create_segment_list_fields_absolyte_after",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();",
									"",
									"pm.globals.set(\"listfields_absoluteafter_segment_id\",jsonData.payload.id)",
									" "
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X_USERNAME",
								"value": "{{username}}",
								"type": "text"
							},
							{
								"key": "X_PASSWORD",
								"value": "{{password}}",
								"type": "text"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"value": "{{account_code}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n   \"name\":\"Cam_seg_lst_fld_date_absolute_criteria_after-{{connectionId}}\",\n   \"type\":\"Active\",\n   \"description\":\"Campaign segmentation\",\n   \"criteria\":[\n      {\n        \"field_id\":\"{{list_field_mxyz_id}}\",\n         \"position\":1,\n         \"operator\":\">\",\n         \"type\":\"date_absolute\",\n         \"operand\":[\n           \"01/01/2000\"\n         ],\n         \"condition\":\"and\"\n      }\n   ]\n}"
						},
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/segments",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"segments"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay 10 Sec",
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=10",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "10"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Check segment count",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json()",
									"pm.globals.set(\"listfield_contact_id\",jsonData.payload.id);",
									" "
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X_USERNAME",
								"type": "text",
								"value": "{{username}}"
							},
							{
								"key": "X_PASSWORD",
								"type": "text",
								"value": "{{password}}"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"type": "text",
								"value": "{{account_code}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"segment_id\":\"{{listfields_absoluteafter_segment_id}}\"}"
						},
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/contact_counts",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"contact_counts"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get segment count",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json()",
									"",
									"pm.test(\"Check segment count\", function () {",
									"    if(jsonData.metadata.total === null)",
									"    {",
									"        pm.expect(jsonData.metadata.total).to.equal(null);",
									"    }",
									"    else",
									"    {",
									"        pm.expect(jsonData.metadata.total).to.equal(\"0\");",
									"    }",
									"})"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "X_USERNAME",
								"type": "text",
								"value": "{{username}}"
							},
							{
								"key": "X_PASSWORD",
								"type": "text",
								"value": "{{password}}"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"type": "text",
								"value": "{{account_code}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/contact_counts/{{listfield_contact_id}}",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"contact_counts",
								"{{listfield_contact_id}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Update contact1",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "X_USERNAME",
								"type": "text",
								"value": "{{username}}"
							},
							{
								"key": "X_PASSWORD",
								"type": "text",
								"value": "{{password}}"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"type": "text",
								"value": "{{account_code}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"ta_127_{{connectionId}}@hoohem.com\",\n    \"mxyz\": \"12/25/1999\"\n}"
						},
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/v2/contacts",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"v2",
								"contacts"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay 200 Sec",
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=200",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "200"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay 200 Sec",
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=200",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "200"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Search contact report",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();",
									"",
									"pm.globals.set(\"contact_report_id\",jsonData.payload.id)",
									" "
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X_USERNAME",
								"value": "{{username}}",
								"type": "text"
							},
							{
								"key": "X_PASSWORD",
								"value": "{{password}}",
								"type": "text"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"value": "{{account_code}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"title\": \"List-field-date-absolute-after-match\",\n    \"include_behavior\": false,\n    \"filters\": {\n        \"type\": \"Active\",\n        \"criteria\": [\n            {\n                \"field_name\": \"segment\",\n                \"type\": \"segment\",\n                \"operator\": \"=\",\n                \"operand\": [\n                    \"{{listfields_absoluteafter_segment_id}}\"\n                ],\n                \"case_sensitive\": 0,\n                \"condition\": \"and\"\n            }\n        ],\n        \"user_type\": \"all\"\n    },\n    \"combined_as_and\": true,\n    \"selected_fields\": [\n        \"email\",\n        \"ocx_created_date\",\n        \"ocx_status\",\n        \"ocx_unsubscribe_date\",\n        \"ocx_resubscribe_date\",\n        \"ocx_import_id\",\n        \"ocx_bounce_date\",\n        \"ocx_complaint_date\"\n    ]\n}"
						},
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/contact_search",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"contact_search"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay 100 Sec",
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=100",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "100"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay 10 Sec",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.globals.set(\"report_count\", 0);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=10",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "10"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay_20_Sec_3",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var count = pm.globals.get(\"report_count\");",
									"count += 1",
									"",
									"pm.globals.set(\"report_count\", count);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=20",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "20"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Contact activity result",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var reportCount = pm.globals.get(\"report_count\");",
									"if(reportCount <=3){",
									"    if(pm.response.code === 412){",
									"        postman.setNextRequest(\"Delay_20_Sec_3\")",
									"        console.log(pm.response.json())",
									"    }else{",
									"        var jsonData = pm.response.json();",
									"        count = 0",
									"        if(jsonData.payload.length > 0){",
									"            jsonData.payload.forEach(function(data, index) {",
									"                if(data.email === \"ta_127_\"+pm.globals.get(\"connectionId\")+\"@hoohem.com\"){",
									"                    count += 1",
									"                    pm.test(\"Check Campaign-segmentation-List-field-Date-Absolute-criteria-after\", function () {",
									"                        pm.expect(\" \").to.equal(\"ta_127_\"+pm.globals.get(\"connectionId\")+\"@hoohem.com\");",
									"                    })        ",
									"                }",
									"            })",
									"        }",
									"        if(count === 0){",
									"            pm.test(\"Check Campaign-segmentation-List-field-Date-Absolute-criteria-after\", function () {",
									"                pm.expect(\"ta_127_\"+pm.globals.get(\"connectionId\")+\"@hoohem.com\").to.equal(\"ta_127_\"+pm.globals.get(\"connectionId\")+\"@hoohem.com\");",
									"            }) ",
									"        }",
									"    }",
									"}else{",
									"    var jsonData = pm.response.json();",
									"    count = 0",
									"    if(jsonData.payload.length > 0){",
									"        jsonData.payload.forEach(function(data, index) {",
									"            if(data.email === \"ta_127_\"+pm.globals.get(\"connectionId\")+\"@hoohem.com\"){",
									"                count += 1",
									"                pm.test(\"Check Campaign-segmentation-List-field-Date-Absolute-criteria-after\", function () {",
									"                    pm.expect(\" \").to.equal(\"ta_127_\"+pm.globals.get(\"connectionId\")+\"@hoohem.com\");",
									"                })        ",
									"            }",
									"        })",
									"    }",
									"    if(count === 0){",
									"        pm.test(\"Check Campaign-segmentation-List-field-Date-Absolute-criteria-after\", function () {",
									"            pm.expect(\"ta_127_\"+pm.globals.get(\"connectionId\")+\"@hoohem.com\").to.equal(\"ta_127_\"+pm.globals.get(\"connectionId\")+\"@hoohem.com\");",
									"        }) ",
									"    }",
									"}",
									"pm.globals.unset(\"report_count\");"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "X_USERNAME",
								"value": "{{username}}",
								"type": "text"
							},
							{
								"key": "X_PASSWORD",
								"value": "{{password}}",
								"type": "text"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"value": "{{account_code}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/contact_activity/{{contact_report_id}}/result?limit=5000",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"contact_activity",
								"{{contact_report_id}}",
								"result"
							],
							"query": [
								{
									"key": "limit",
									"value": "5000"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Contact update2",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "X_USERNAME",
								"value": "{{username}}",
								"type": "text"
							},
							{
								"key": "X_PASSWORD",
								"value": "{{password}}",
								"type": "text"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"value": "{{account_code}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"ta_127_{{connectionId}}@hoohem.com\",\n    \"mxyz\": \"01/02/2000\"\n}"
						},
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/v2/contacts",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"v2",
								"contacts"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay 200 Sec",
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=200",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "200"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay 200 Sec",
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=200",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "200"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Search contact report",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();",
									"pm.globals.set(\"contact_report_id\",jsonData.payload.id)",
									" "
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X_USERNAME",
								"value": "{{username}}",
								"type": "text"
							},
							{
								"key": "X_PASSWORD",
								"value": "{{password}}",
								"type": "text"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"value": "{{account_code}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"title\": \"List-field-date-absolute-after-not-match\",\n    \"include_behavior\": false,\n    \"filters\": {\n        \"type\": \"Active\",\n        \"criteria\": [\n            {\n                \"field_name\": \"segment\",\n                \"type\": \"segment\",\n                \"operator\": \"=\",\n                \"operand\": [\n                    \"{{listfields_absoluteafter_segment_id}}\"\n                ],\n                \"case_sensitive\": 0,\n                \"condition\": \"and\"\n            }\n        ],\n        \"user_type\": \"all\"\n    },\n    \"combined_as_and\": true,\n    \"selected_fields\": [\n        \"email\",\n        \"ocx_created_date\",\n        \"ocx_status\",\n        \"ocx_unsubscribe_date\",\n        \"ocx_resubscribe_date\",\n        \"ocx_import_id\",\n        \"ocx_bounce_date\",\n        \"ocx_complaint_date\"\n    ]\n}"
						},
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/contact_search",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"contact_search"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay 100 Sec",
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=100",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "100"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay 10 Sec",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.globals.set(\"report_count\", 0);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=10",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "10"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay_20_Sec_4",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var count = pm.globals.get(\"report_count\");",
									"count += 1",
									"",
									"pm.globals.set(\"report_count\", count);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=20",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "20"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Contact activity result",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var reportCount = pm.globals.get(\"report_count\");",
									"if(reportCount <=3){",
									"    if(pm.response.code === 412){",
									"        postman.setNextRequest(\"Delay_20_Sec_4\")",
									"        console.log(pm.response.json())",
									"    }else{",
									"        var jsonData = pm.response.json();",
									"        count = 0",
									"        if(jsonData.payload.length > 0){",
									"            jsonData.payload.forEach(function(data, index) {",
									"                if(data.email === \"ta_127_\"+pm.globals.get(\"connectionId\")+\"@hoohem.com\"){",
									"                    count += 1",
									"                    pm.test(\"Check Campaign-segmentation-List-field-Date-Absolute-criteria-after\", function () {",
									"                        pm.expect(\"ta_127_\"+pm.globals.get(\"connectionId\")+\"@hoohem.com\").to.equal(\"ta_127_\"+pm.globals.get(\"connectionId\")+\"@hoohem.com\");",
									"                    })        ",
									"                }",
									"            })",
									"        }",
									"        if(count === 0){",
									"            pm.test(\"Check Campaign-segmentation-List-field-Date-Absolute-criteria-after\", function () {",
									"                pm.expect(\"\").to.equal(\"ta_127_\"+pm.globals.get(\"connectionId\")+\"@hoohem.com\");",
									"            }) ",
									"        }",
									"    }",
									"}else{",
									"    var jsonData = pm.response.json();",
									"    count = 0",
									"    if(jsonData.payload.length > 0){",
									"        jsonData.payload.forEach(function(data, index) {",
									"            if(data.email === \"ta_127_\"+pm.globals.get(\"connectionId\")+\"@hoohem.com\"){",
									"                count += 1",
									"                pm.test(\"Check Campaign-segmentation-List-field-Date-Absolute-criteria-after\", function () {",
									"                    pm.expect(\"ta_127_\"+pm.globals.get(\"connectionId\")+\"@hoohem.com\").to.equal(\"ta_127_\"+pm.globals.get(\"connectionId\")+\"@hoohem.com\");",
									"                })        ",
									"            }",
									"        })",
									"    }",
									"    if(count === 0){",
									"        pm.test(\"Check Campaign-segmentation-List-field-Date-Absolute-criteria-after\", function () {",
									"            pm.expect(\"\").to.equal(\"ta_127_\"+pm.globals.get(\"connectionId\")+\"@hoohem.com\");",
									"        }) ",
									"    }",
									"}",
									"pm.globals.unset(\"report_count\");"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "X_USERNAME",
								"type": "text",
								"value": "{{username}}"
							},
							{
								"key": "X_PASSWORD",
								"type": "text",
								"value": "{{password}}"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"type": "text",
								"value": "{{account_code}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/contact_activity/{{contact_report_id}}/result?limit=5000",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"contact_activity",
								"{{contact_report_id}}",
								"result"
							],
							"query": [
								{
									"key": "limit",
									"value": "5000"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Contact update3",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "X_USERNAME",
								"type": "text",
								"value": "{{username}}"
							},
							{
								"key": "X_PASSWORD",
								"type": "text",
								"value": "{{password}}"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"type": "text",
								"value": "{{account_code}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"ta_127_{{connectionId}}@hoohem.com\",\n    \"mxyz\": \"\"\n}"
						},
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/v2/contacts",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"v2",
								"contacts"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete segment",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.globals.unset(\"listfields_absoluteafter_segment_id\");",
									"pm.globals.unset(\"listfield_contact_id\");",
									"pm.globals.unset(\"contact_report_id\");"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "X_USERNAME",
								"type": "text",
								"value": "{{username}}"
							},
							{
								"key": "X_PASSWORD",
								"type": "text",
								"value": "{{password}}"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"type": "text",
								"value": "{{account_code}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/segments/{{listfields_absoluteafter_segment_id}}",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"segments",
								"{{listfields_absoluteafter_segment_id}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Absolute-on or after",
			"item": [
				{
					"name": "Get old segment",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json()",
									"if(jsonData.payload.length > 0){",
									"        for (var segment of jsonData.payload) {",
									"            if(segment.name === \"Cam_seg_lst_fld_date_absolute_criteria_on_or_after-\" + pm.globals.get(\"connectionId\")){",
									"                pm.globals.set(\"listfields_absoluteonorafter_segment_id\", segment.id);",
									"            }",
									"        }",
									"}else{",
									"    postman.setNextRequest(\"Create_segment_list_fields_absol_on_or_after\")",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "X_USERNAME",
								"type": "text",
								"value": "{{username}}"
							},
							{
								"key": "X_PASSWORD",
								"type": "text",
								"value": "{{password}}"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"type": "text",
								"value": "{{account_code}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/segments",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"segments"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete_segment",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.globals.unset(\"listfields_absoluteonorafter_segment_id\");"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "X_USERNAME",
								"type": "text",
								"value": "{{username}}"
							},
							{
								"key": "X_PASSWORD",
								"type": "text",
								"value": "{{password}}"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"type": "text",
								"value": "{{account_code}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/segments/{{listfields_absoluteonorafter_segment_id}}",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"segments",
								"{{listfields_absoluteonorafter_segment_id}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create_segment_list_fields_absol_on_or_after",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();",
									"",
									"pm.globals.set(\"listfields_absoluteonorafter_segment_id\",jsonData.payload.id)",
									" "
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X_USERNAME",
								"type": "text",
								"value": "{{username}}"
							},
							{
								"key": "X_PASSWORD",
								"type": "text",
								"value": "{{password}}"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"type": "text",
								"value": "{{account_code}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n   \"name\":\"Cam_seg_lst_fld_date_absolute_criteria_on_or_after-{{connectionId}}\",\n   \"type\":\"Active\",\n   \"description\":\"Campaign segmentation\",\n   \"criteria\":[\n      {\n        \"field_id\":\"{{list_field_mxyz_id}}\",\n         \"position\":1,\n         \"operator\":\">\",\n         \"type\":\"date_absolute\",\n         \"operand\":[\n           \"01/01/2000\"\n         ],\n         \"condition\":\"and\"\n      }\n   ]\n}"
						},
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/segments",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"segments"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay 10 Sec",
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=10",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "10"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Check segment count",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json()",
									"pm.globals.set(\"listfield_contact_id\",jsonData.payload.id);",
									" "
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X_USERNAME",
								"type": "text",
								"value": "{{username}}"
							},
							{
								"key": "X_PASSWORD",
								"type": "text",
								"value": "{{password}}"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"type": "text",
								"value": "{{account_code}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"segment_id\":\"{{listfields_absoluteonorafter_segment_id}}\"}"
						},
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/contact_counts",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"contact_counts"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get segment count",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json()",
									"",
									"pm.test(\"Check segment count\", function () {",
									"    if(jsonData.metadata.total === null)",
									"    {",
									"        pm.expect(jsonData.metadata.total).to.equal(null);",
									"    }",
									"    else",
									"    {",
									"        pm.expect(jsonData.metadata.total).to.equal(\"0\");",
									"    }",
									"})"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "X_USERNAME",
								"value": "{{username}}",
								"type": "text"
							},
							{
								"key": "X_PASSWORD",
								"value": "{{password}}",
								"type": "text"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"value": "{{account_code}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/contact_counts/{{listfield_contact_id}}",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"contact_counts",
								"{{listfield_contact_id}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Update contact1",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "X_USERNAME",
								"type": "text",
								"value": "{{username}}"
							},
							{
								"key": "X_PASSWORD",
								"type": "text",
								"value": "{{password}}"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"type": "text",
								"value": "{{account_code}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"ta_127_{{connectionId}}@hoohem.com\",\n    \"mxyz\": \"12/25/1999\"\n}"
						},
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/v2/contacts",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"v2",
								"contacts"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay 200 Sec",
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=200",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "200"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay 200 Sec",
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=200",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "200"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Search contact report",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();",
									"pm.globals.set(\"contact_report_id\",jsonData.payload.id)",
									" "
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X_USERNAME",
								"value": "{{username}}",
								"type": "text"
							},
							{
								"key": "X_PASSWORD",
								"value": "{{password}}",
								"type": "text"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"value": "{{account_code}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"title\": \"List-field-date-absolute-on-or-after-not-match\",\n    \"include_behavior\": false,\n    \"filters\": {\n        \"type\": \"Active\",\n        \"criteria\": [\n            {\n                \"field_name\": \"segment\",\n                \"type\": \"segment\",\n                \"operator\": \"=\",\n                \"operand\": [\n                    \"{{listfields_absoluteonorafter_segment_id}}\"\n                ],\n                \"case_sensitive\": 0,\n                \"condition\": \"and\"\n            }\n        ],\n        \"user_type\": \"all\"\n    },\n    \"combined_as_and\": true,\n    \"selected_fields\": [\n        \"email\",\n        \"ocx_created_date\",\n        \"ocx_status\",\n        \"ocx_unsubscribe_date\",\n        \"ocx_resubscribe_date\",\n        \"ocx_import_id\",\n        \"ocx_bounce_date\",\n        \"ocx_complaint_date\"\n    ]\n}"
						},
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/contact_search",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"contact_search"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay 100 Sec",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=100",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "100"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay 10 Sec",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.globals.set(\"report_count\", 0);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=10",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "10"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay_20_Sec_5",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var count = pm.globals.get(\"report_count\");",
									"count += 1",
									"",
									"pm.globals.set(\"report_count\", count);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=20",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "20"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Contact activity result",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var reportCount = pm.globals.get(\"report_count\");",
									"if(reportCount <=3){",
									"    if(pm.response.code === 412){",
									"        postman.setNextRequest(\"Delay_20_Sec_5\")",
									"        console.log(pm.response.json())",
									"    }else{",
									"        var jsonData = pm.response.json();",
									"        count = 0",
									"        if(jsonData.payload.length > 0){",
									"            jsonData.payload.forEach(function(data, index) {",
									"                if(data.email === \"ta_127_\"+pm.globals.get(\"connectionId\")+\"@hoohem.com\"){",
									"                    count += 1",
									"                    pm.test(\"Check Campaign-segmentation-List-field-Date-Absolute-criteria-on or after\", function () {",
									"                        pm.expect(\" \").to.equal(\"ta_127_\"+pm.globals.get(\"connectionId\")+\"@hoohem.com\");",
									"                    })        ",
									"                }",
									"            })",
									"        }",
									"        if(count === 0){",
									"            pm.test(\"Check Campaign-segmentation-List-field-Date-Absolute-criteria-on or after\", function () {",
									"                pm.expect(\"ta_127_\"+pm.globals.get(\"connectionId\")+\"@hoohem.com\").to.equal(\"ta_127_\"+pm.globals.get(\"connectionId\")+\"@hoohem.com\");",
									"            }) ",
									"        }",
									"    }",
									"}else{",
									"    var jsonData = pm.response.json();",
									"    count = 0",
									"    if(jsonData.payload.length > 0){",
									"        jsonData.payload.forEach(function(data, index) {",
									"            if(data.email === \"ta_127_\"+pm.globals.get(\"connectionId\")+\"@hoohem.com\"){",
									"                count += 1",
									"                pm.test(\"Check Campaign-segmentation-List-field-Date-Absolute-criteria-on or after\", function () {",
									"                    pm.expect(\" \").to.equal(\"ta_127_\"+pm.globals.get(\"connectionId\")+\"@hoohem.com\");",
									"                })        ",
									"            }",
									"        })",
									"    }",
									"    if(count === 0){",
									"        pm.test(\"Check Campaign-segmentation-List-field-Date-Absolute-criteria-on or after\", function () {",
									"            pm.expect(\"ta_127_\"+pm.globals.get(\"connectionId\")+\"@hoohem.com\").to.equal(\"ta_127_\"+pm.globals.get(\"connectionId\")+\"@hoohem.com\");",
									"        }) ",
									"    }",
									"}",
									"pm.globals.unset(\"report_count\");"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "X_USERNAME",
								"value": "{{username}}",
								"type": "text"
							},
							{
								"key": "X_PASSWORD",
								"value": "{{password}}",
								"type": "text"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"value": "{{account_code}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/contact_activity/{{contact_report_id}}/result?limit=5000",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"contact_activity",
								"{{contact_report_id}}",
								"result"
							],
							"query": [
								{
									"key": "limit",
									"value": "5000"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Contact-update2",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "X_USERNAME",
								"value": "{{username}}",
								"type": "text"
							},
							{
								"key": "X_PASSWORD",
								"value": "{{password}}",
								"type": "text"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"value": "{{account_code}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"ta_127_{{connectionId}}@hoohem.com\",\n    \"mxyz\": \"01/02/2000\"\n}"
						},
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/v2/contacts",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"v2",
								"contacts"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay 200 Sec",
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=200",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "200"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay 200 Sec",
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=200",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "200"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Search contact report",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();",
									"",
									"pm.globals.set(\"contact_report_id\",jsonData.payload.id)",
									" "
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X_USERNAME",
								"value": "{{username}}",
								"type": "text"
							},
							{
								"key": "X_PASSWORD",
								"value": "{{password}}",
								"type": "text"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"value": "{{account_code}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"title\": \"List-field-date-absolute-on-or-after-match\",\n    \"include_behavior\": false,\n    \"filters\": {\n        \"type\": \"Active\",\n        \"criteria\": [\n            {\n                \"field_name\": \"segment\",\n                \"type\": \"segment\",\n                \"operator\": \"=\",\n                \"operand\": [\n                    \"{{listfields_absoluteonorafter_segment_id}}\"\n                ],\n                \"case_sensitive\": 0,\n                \"condition\": \"and\"\n            }\n        ],\n        \"user_type\": \"all\"\n    },\n    \"combined_as_and\": true,\n    \"selected_fields\": [\n        \"email\",\n        \"ocx_created_date\",\n        \"ocx_status\",\n        \"ocx_unsubscribe_date\",\n        \"ocx_resubscribe_date\",\n        \"ocx_import_id\",\n        \"ocx_bounce_date\",\n        \"ocx_complaint_date\"\n    ]\n}"
						},
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/contact_search",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"contact_search"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay 100 Sec",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=100",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "100"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay 10 Sec",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.globals.set(\"report_count\", 0);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=10",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "10"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay_20_Sec_6",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var count = pm.globals.get(\"report_count\");",
									"count += 1",
									"",
									"pm.globals.set(\"report_count\", count);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=20",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "20"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Contact activity result",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var reportCount = pm.globals.get(\"report_count\");",
									"if(reportCount <=3){",
									"    if(pm.response.code === 412){",
									"        postman.setNextRequest(\"Delay_20_Sec_6\")",
									"        console.log(pm.response.json())",
									"    }else{",
									"        var jsonData = pm.response.json();",
									"        count = 0",
									"        if(jsonData.payload.length > 0){",
									"            jsonData.payload.forEach(function(data, index) {",
									"                if(data.email === \"ta_127_\"+pm.globals.get(\"connectionId\")+\"@hoohem.com\"){",
									"                    count += 1",
									"                    pm.test(\"Check Campaign-segmentation-List-field-Date-Absolute-criteria-on or after\", function () {",
									"                        pm.expect(\"ta_127_\"+pm.globals.get(\"connectionId\")+\"@hoohem.com\").to.equal(\"ta_127_\"+pm.globals.get(\"connectionId\")+\"@hoohem.com\");",
									"                    })        ",
									"                }",
									"            })",
									"        }",
									"        if(count === 0){",
									"            pm.test(\"Check Campaign-segmentation-List-field-Date-Absolute-criteria-on or after\", function () {",
									"                pm.expect(\"\").to.equal(\"ta_127_\"+pm.globals.get(\"connectionId\")+\"@hoohem.com\");",
									"            }) ",
									"        }",
									"    }",
									"}else{",
									"    var jsonData = pm.response.json();",
									"    count = 0",
									"    if(jsonData.payload.length > 0){",
									"        jsonData.payload.forEach(function(data, index) {",
									"            if(data.email === \"ta_127_\"+pm.globals.get(\"connectionId\")+\"@hoohem.com\"){",
									"                count += 1",
									"                pm.test(\"Check Campaign-segmentation-List-field-Date-Absolute-criteria-on or after\", function () {",
									"                    pm.expect(\"ta_127_\"+pm.globals.get(\"connectionId\")+\"@hoohem.com\").to.equal(\"ta_127_\"+pm.globals.get(\"connectionId\")+\"@hoohem.com\");",
									"                })        ",
									"            }",
									"        })",
									"    }",
									"    if(count === 0){",
									"        pm.test(\"Check Campaign-segmentation-List-field-Date-Absolute-criteria-on or after\", function () {",
									"            pm.expect(\"\").to.equal(\"ta_127_\"+pm.globals.get(\"connectionId\")+\"@hoohem.com\");",
									"        }) ",
									"    }",
									"}",
									"pm.globals.unset(\"report_count\");"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "X_USERNAME",
								"type": "text",
								"value": "{{username}}"
							},
							{
								"key": "X_PASSWORD",
								"type": "text",
								"value": "{{password}}"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"type": "text",
								"value": "{{account_code}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/contact_activity/{{contact_report_id}}/result?limit=5000",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"contact_activity",
								"{{contact_report_id}}",
								"result"
							],
							"query": [
								{
									"key": "limit",
									"value": "5000"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Contact update3",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "X_USERNAME",
								"type": "text",
								"value": "{{username}}"
							},
							{
								"key": "X_PASSWORD",
								"type": "text",
								"value": "{{password}}"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"type": "text",
								"value": "{{account_code}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"ta_127_{{connectionId}}@hoohem.com\",\n    \"mxyz\": \"\"\n}"
						},
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/v2/contacts",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"v2",
								"contacts"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete segment",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.globals.unset(\"listfields_absoluteonorafter_segment_id\");",
									"pm.globals.unset(\"listfield_contact_id\");",
									"pm.globals.unset(\"contact_report_id\");"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "X_USERNAME",
								"type": "text",
								"value": "{{username}}"
							},
							{
								"key": "X_PASSWORD",
								"type": "text",
								"value": "{{password}}"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"type": "text",
								"value": "{{account_code}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/segments/{{listfields_absoluteonorafter_segment_id}}",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"segments",
								"{{listfields_absoluteonorafter_segment_id}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Absolute-on",
			"item": [
				{
					"name": "Get old segment",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json()",
									"if(jsonData.payload.length > 0){",
									"        for (var segment of jsonData.payload) {",
									"            if(segment.name === \"Cam_seg_lst_fld_date_absolute_criteria_on-\" + pm.globals.get(\"connectionId\")){",
									"                pm.globals.set(\"listfields_absoluteon_segment_id\", segment.id);",
									"            }",
									"        }",
									"}else{",
									"    postman.setNextRequest(\"Create_segment_list_fields_absol_on\")",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "X_USERNAME",
								"type": "text",
								"value": "{{username}}"
							},
							{
								"key": "X_PASSWORD",
								"type": "text",
								"value": "{{password}}"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"type": "text",
								"value": "{{account_code}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/segments",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"segments"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete_segment",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.globals.unset(\"listfields_absoluteon_segment_id\");"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "X_USERNAME",
								"type": "text",
								"value": "{{username}}"
							},
							{
								"key": "X_PASSWORD",
								"type": "text",
								"value": "{{password}}"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"type": "text",
								"value": "{{account_code}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/segments/{{listfields_absoluteon_segment_id}}",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"segments",
								"{{listfields_absoluteon_segment_id}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create_segment_list_fields_absol_on",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();",
									"pm.globals.set(\"listfields_absoluteon_segment_id\",jsonData.payload.id)",
									" "
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X_USERNAME",
								"type": "text",
								"value": "{{username}}"
							},
							{
								"key": "X_PASSWORD",
								"type": "text",
								"value": "{{password}}"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"type": "text",
								"value": "{{account_code}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n   \"name\":\"Cam_seg_lst_fld_date_absolute_criteria_on-{{connectionId}}\",\n   \"type\":\"Active\",\n   \"description\":\"Campaign segmentation\",\n   \"criteria\":[\n      {\n      \t\"field_id\":\"{{list_field_mxyz_id}}\", \n         \"position\":1,\n         \"operator\":\"=\",\n         \"type\":\"date_absolute\",\n         \"operand\":[\n           \"01/01/2000\"\n         ],\n         \"condition\":\"and\"\n        \n      }\n   ]\n}\n"
						},
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/segments",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"segments"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay 10 Sec",
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=10",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "10"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Check segment count",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json()",
									"pm.globals.set(\"listfield_contact_id\",jsonData.payload.id);",
									" "
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X_USERNAME",
								"type": "text",
								"value": "{{username}}"
							},
							{
								"key": "X_PASSWORD",
								"type": "text",
								"value": "{{password}}"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"type": "text",
								"value": "{{account_code}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"segment_id\":\"{{listfields_absoluteon_segment_id}}\"}"
						},
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/contact_counts",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"contact_counts"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get segment count",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json()",
									"",
									"pm.test(\"Check segment count\", function () {",
									"    if(jsonData.metadata.total === null)",
									"    {",
									"        pm.expect(jsonData.metadata.total).to.equal(null);",
									"    }",
									"    else",
									"    {",
									"        pm.expect(jsonData.metadata.total).to.equal(\"0\");",
									"    }",
									"})"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "X_USERNAME",
								"value": "{{username}}",
								"type": "text"
							},
							{
								"key": "X_PASSWORD",
								"value": "{{password}}",
								"type": "text"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"value": "{{account_code}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/contact_counts/{{listfield_contact_id}}",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"contact_counts",
								"{{listfield_contact_id}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Update contact1",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "X_USERNAME",
								"type": "text",
								"value": "{{username}}"
							},
							{
								"key": "X_PASSWORD",
								"type": "text",
								"value": "{{password}}"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"type": "text",
								"value": "{{account_code}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"ta_127_{{connectionId}}@hoohem.com\",\n    \"mxyz\": \"01/01/2050\"\n}"
						},
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/v2/contacts",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"v2",
								"contacts"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay 200 Sec",
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=200",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "200"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay 200 Sec",
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=200",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "200"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Search contact report",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();",
									"pm.globals.set(\"contact_report_id\",jsonData.payload.id)",
									" "
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X_USERNAME",
								"value": "{{username}}",
								"type": "text"
							},
							{
								"key": "X_PASSWORD",
								"value": "{{password}}",
								"type": "text"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"value": "{{account_code}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"title\": \"List-field-date-absolute-on-match\",\n    \"include_behavior\": false,\n    \"filters\": {\n        \"type\": \"Active\",\n        \"criteria\": [\n            {\n                \"field_name\": \"segment\",\n                \"type\": \"segment\",\n                \"operator\": \"=\",\n                \"operand\": [\n                    \"{{listfields_absoluteon_segment_id}}\"\n                ],\n                \"case_sensitive\": 0,\n                \"condition\": \"and\"\n            }\n        ],\n        \"user_type\": \"all\"\n    },\n    \"combined_as_and\": true,\n    \"selected_fields\": [\n        \"email\",\n        \"ocx_created_date\",\n        \"ocx_status\",\n        \"ocx_unsubscribe_date\",\n        \"ocx_resubscribe_date\",\n        \"ocx_import_id\",\n        \"ocx_bounce_date\",\n        \"ocx_complaint_date\"\n    ]\n}"
						},
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/contact_search",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"contact_search"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay 100 Sec",
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=100",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "100"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay 10 Sec",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.globals.set(\"report_count\", 0);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=10",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "10"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay_20_Sec_7",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var count = pm.globals.get(\"report_count\");",
									"count += 1",
									"",
									"pm.globals.set(\"report_count\", count);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=20",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "20"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Contact activity result",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var reportCount = pm.globals.get(\"report_count\");",
									"if(reportCount <=3){",
									"    if(pm.response.code === 412){",
									"        postman.setNextRequest(\"Delay_20_Sec_7\")",
									"        console.log(pm.response.json())",
									"    }else{",
									"        var jsonData = pm.response.json();",
									"        count = 0",
									"        if(jsonData.payload.length > 0){",
									"            jsonData.payload.forEach(function(data, index) {",
									"                if(data.email === \"ta_127_\"+pm.globals.get(\"connectionId\")+\"@hoohem.com\"){",
									"                    count += 1",
									"                    pm.test(\"Check Campaign-segmentation-List-field-Date-Absolute-criteria-on\", function () {",
									"                        pm.expect(\" \").to.equal(\"ta_127_\"+pm.globals.get(\"connectionId\")+\"@hoohem.com\");",
									"                    })        ",
									"                }",
									"            })",
									"        }",
									"        if(count === 0){",
									"            pm.test(\"Check Campaign-segmentation-List-field-Date-Absolute-criteria-on\", function () {",
									"                pm.expect(\"ta_127_\"+pm.globals.get(\"connectionId\")+\"@hoohem.com\").to.equal(\"ta_127_\"+pm.globals.get(\"connectionId\")+\"@hoohem.com\");",
									"            }) ",
									"        }",
									"    }",
									"}else{",
									"    var jsonData = pm.response.json();",
									"    count = 0",
									"    if(jsonData.payload.length > 0){",
									"        jsonData.payload.forEach(function(data, index) {",
									"            if(data.email === \"ta_127_\"+pm.globals.get(\"connectionId\")+\"@hoohem.com\"){",
									"                count += 1",
									"                pm.test(\"Check Campaign-segmentation-List-field-Date-Absolute-criteria-on\", function () {",
									"                    pm.expect(\" \").to.equal(\"ta_127_\"+pm.globals.get(\"connectionId\")+\"@hoohem.com\");",
									"                })        ",
									"            }",
									"        })",
									"    }",
									"    if(count === 0){",
									"        pm.test(\"Check Campaign-segmentation-List-field-Date-Absolute-criteria-on\", function () {",
									"            pm.expect(\"ta_127_\"+pm.globals.get(\"connectionId\")+\"@hoohem.com\").to.equal(\"ta_127_\"+pm.globals.get(\"connectionId\")+\"@hoohem.com\");",
									"        }) ",
									"    }",
									"}",
									"pm.globals.unset(\"report_count\");"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "X_USERNAME",
								"value": "{{username}}",
								"type": "text"
							},
							{
								"key": "X_PASSWORD",
								"value": "{{password}}",
								"type": "text"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"value": "{{account_code}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/contact_activity/{{contact_report_id}}/result?limit=5000",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"contact_activity",
								"{{contact_report_id}}",
								"result"
							],
							"query": [
								{
									"key": "limit",
									"value": "5000"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Contact update2",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "X_USERNAME",
								"value": "{{username}}",
								"type": "text"
							},
							{
								"key": "X_PASSWORD",
								"value": "{{password}}",
								"type": "text"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"value": "{{account_code}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"ta_127_{{connectionId}}@hoohem.com\",\n    \"mxyz\": \"01/01/2000\"\n}"
						},
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/v2/contacts",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"v2",
								"contacts"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay 200 Sec",
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=200",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "200"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay 200 Sec",
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=200",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "200"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Search contact report",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();",
									"pm.globals.set(\"contact_report_id\",jsonData.payload.id)",
									" "
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X_USERNAME",
								"value": "{{username}}",
								"type": "text"
							},
							{
								"key": "X_PASSWORD",
								"value": "{{password}}",
								"type": "text"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"value": "{{account_code}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"title\": \"List-field-date-absolute-on-not-match\",\n    \"include_behavior\": false,\n    \"filters\": {\n        \"type\": \"Active\",\n        \"criteria\": [\n            {\n                \"field_name\": \"segment\",\n                \"type\": \"segment\",\n                \"operator\": \"=\",\n                \"operand\": [\n                    \"{{listfields_absoluteon_segment_id}}\"\n                ],\n                \"case_sensitive\": 0,\n                \"condition\": \"and\"\n            }\n        ],\n        \"user_type\": \"all\"\n    },\n    \"combined_as_and\": true,\n    \"selected_fields\": [\n        \"email\",\n        \"ocx_created_date\",\n        \"ocx_status\",\n        \"ocx_unsubscribe_date\",\n        \"ocx_resubscribe_date\",\n        \"ocx_import_id\",\n        \"ocx_bounce_date\",\n        \"ocx_complaint_date\"\n    ]\n}"
						},
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/contact_search",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"contact_search"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay 100 Sec",
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=100",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "100"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay 10 Sec",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.globals.set(\"report_count\", 0);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=10",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "10"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay_20_Sec_8",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var count = pm.globals.get(\"report_count\");",
									"count += 1",
									"",
									"pm.globals.set(\"report_count\", count);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=20",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "20"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Contact activity result",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var reportCount = pm.globals.get(\"report_count\");",
									"if(reportCount <=3){",
									"    if(pm.response.code === 412){",
									"        postman.setNextRequest(\"Delay_20_Sec_8\")",
									"        console.log(pm.response.json())",
									"    }else{",
									"        var jsonData = pm.response.json();",
									"        count = 0",
									"        if(jsonData.payload.length > 0){",
									"            jsonData.payload.forEach(function(data, index) {",
									"                if(data.email === \"ta_127_\"+pm.globals.get(\"connectionId\")+\"@hoohem.com\"){",
									"                    count += 1",
									"                    pm.test(\"Check Campaign-segmentation-List-field-Date-Absolute-criteria-on\", function () {",
									"                        pm.expect(\"ta_127_\"+pm.globals.get(\"connectionId\")+\"@hoohem.com\").to.equal(\"ta_127_\"+pm.globals.get(\"connectionId\")+\"@hoohem.com\");",
									"                    })        ",
									"                }",
									"            })",
									"        }",
									"        if(count === 0){",
									"            pm.test(\"Check Campaign-segmentation-List-field-Date-Absolute-criteria-on\", function () {",
									"                pm.expect(\"\").to.equal(\"ta_127_\"+pm.globals.get(\"connectionId\")+\"@hoohem.com\");",
									"            }) ",
									"        }",
									"    }",
									"}else{",
									"    var jsonData = pm.response.json();",
									"    count = 0",
									"    if(jsonData.payload.length > 0){",
									"        jsonData.payload.forEach(function(data, index) {",
									"            if(data.email === \"ta_127_\"+pm.globals.get(\"connectionId\")+\"@hoohem.com\"){",
									"                count += 1",
									"                pm.test(\"Check Campaign-segmentation-List-field-Date-Absolute-criteria-on\", function () {",
									"                    pm.expect(\"ta_127_\"+pm.globals.get(\"connectionId\")+\"@hoohem.com\").to.equal(\"ta_127_\"+pm.globals.get(\"connectionId\")+\"@hoohem.com\");",
									"                })        ",
									"            }",
									"        })",
									"    }",
									"    if(count === 0){",
									"        pm.test(\"Check Campaign-segmentation-List-field-Date-Absolute-criteria-on\", function () {",
									"            pm.expect(\"\").to.equal(\"ta_127_\"+pm.globals.get(\"connectionId\")+\"@hoohem.com\");",
									"        }) ",
									"    }",
									"}",
									"pm.globals.unset(\"report_count\");"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "X_USERNAME",
								"type": "text",
								"value": "{{username}}"
							},
							{
								"key": "X_PASSWORD",
								"type": "text",
								"value": "{{password}}"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"type": "text",
								"value": "{{account_code}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/contact_activity/{{contact_report_id}}/result?limit=5000",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"contact_activity",
								"{{contact_report_id}}",
								"result"
							],
							"query": [
								{
									"key": "limit",
									"value": "5000"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Contact update3",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "X_USERNAME",
								"type": "text",
								"value": "{{username}}"
							},
							{
								"key": "X_PASSWORD",
								"type": "text",
								"value": "{{password}}"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"type": "text",
								"value": "{{account_code}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"ta_127_{{connectionId}}@hoohem.com\",\n    \"mxyz\": \"\"\n}"
						},
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/v2/contacts",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"v2",
								"contacts"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete segment",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.globals.unset(\"listfields_absoluteon_segment_id\");",
									"pm.globals.unset(\"listfield_contact_id\");",
									"pm.globals.unset(\"contact_report_id\");"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "X_USERNAME",
								"type": "text",
								"value": "{{username}}"
							},
							{
								"key": "X_PASSWORD",
								"type": "text",
								"value": "{{password}}"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"type": "text",
								"value": "{{account_code}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/segments/{{listfields_absoluteon_segment_id}}",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"segments",
								"{{listfields_absoluteon_segment_id}}"
							]
						}
					},
					"response": []
				}
			]
		}
	]
}