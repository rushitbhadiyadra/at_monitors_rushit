{
	"info": {
		"_postman_id": "8c5ba63a-92e3-4d50-9cc1-ddaeff8f2d4b",
		"name": "Campaign-Segmentation-List-Field-String-2",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "6765444",
		"_collection_link": "https://ongageqa.postman.co/workspace/Segmentation~97a2a379-2ebf-4617-8e2a-bda7b4141f63/collection/6765444-8c5ba63a-92e3-4d50-9cc1-ddaeff8f2d4b?action=share&creator=6765444&source=collection_link"
	},
	"item": [
		{
			"name": "begains with",
			"item": [
				{
					"name": "Create contact",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X_USERNAME",
								"type": "text",
								"value": "{{username}}"
							},
							{
								"key": "X_PASSWORD",
								"type": "text",
								"value": "{{password}}"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"type": "text",
								"value": "{{account_code}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"ta_126_1_{{connectionId}}@hoohem.com\",\n    \"first_name\": \"\"\n}"
						},
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/v2/contacts",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"v2",
								"contacts"
							]
						}
					},
					"response": []
				},
				{
					"name": "Update contact",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "X_USERNAME",
								"type": "text",
								"value": "{{username}}"
							},
							{
								"key": "X_PASSWORD",
								"type": "text",
								"value": "{{password}}"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"type": "text",
								"value": "{{account_code}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"ta_126_1_{{connectionId}}@hoohem.com\",\n    \"first_name\": \"\"\n}"
						},
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/v2/contacts",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"v2",
								"contacts"
							]
						}
					},
					"response": []
				},
				{
					"name": "get segment",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json()",
									"if(jsonData.payload.length > 0){",
									"    for (var segment of jsonData.payload) {",
									"        if (segment.name === \"Cam_seg_lst_fld_cri_begains_with-\" + pm.globals.get(\"connectionId\")){",
									"            pm.globals.set(\"segment_id\", segment.id);",
									"        }      ",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "X_USERNAME",
								"type": "text",
								"value": "{{username}}"
							},
							{
								"key": "X_PASSWORD",
								"type": "text",
								"value": "{{password}}"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"type": "text",
								"value": "{{account_code}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/segments/",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"segments",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete segment",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "X_USERNAME",
								"type": "text",
								"value": "{{username}}"
							},
							{
								"key": "X_PASSWORD",
								"type": "text",
								"value": "{{password}}"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"type": "text",
								"value": "{{account_code}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/segments/{{segment_id}}",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"segments",
								"{{segment_id}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create segment list fields",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();",
									"pm.globals.set(\"listfields_isbeginwith_segment_id\",jsonData.payload.id)",
									" "
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X_USERNAME",
								"value": "{{username}}",
								"type": "text"
							},
							{
								"key": "X_PASSWORD",
								"value": "{{password}}",
								"type": "text"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"value": "{{account_code}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n   \"name\":\"Cam_seg_lst_fld_cri_begains_with-{{connectionId}}\",\n   \"type\":\"Active\",\n   \"description\":\"Campaign segmentation\",\n   \"criteria\":[\n        {\n            \"field_id\":\"{{list_field_first_name_id}}\",\n            \"type\":\"string\",\n            \"position\":0,\n            \"operator\":\"LIKE_\",\n            \"operand\":[\n                \"AAAAA\"\n            ],\n            \"condition\":\"and\"\n        }\n    ]\n}"
						},
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/segments",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"segments"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay 200 Sec",
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=200",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "200"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Check segment count",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json()",
									"pm.globals.set(\"listfield_contact_id\",jsonData.payload.id);",
									" "
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X_USERNAME",
								"type": "text",
								"value": "{{username}}"
							},
							{
								"key": "X_PASSWORD",
								"type": "text",
								"value": "{{password}}"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"type": "text",
								"value": "{{account_code}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"segment_id\": \"{{listfields_isbeginwith_segment_id}}\"\n}"
						},
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/contact_counts",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"contact_counts"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get segment count",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json()",
									"",
									"pm.test(\"Check segment count\", function () {",
									"    if(jsonData.metadata.total === null)",
									"    {",
									"        pm.expect(jsonData.metadata.total).to.equal(null);",
									"    }",
									"    else",
									"    {",
									"        pm.expect(jsonData.metadata.total).to.equal(\"0\");",
									"    }",
									"})"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "X_USERNAME",
								"value": "{{username}}",
								"type": "text"
							},
							{
								"key": "X_PASSWORD",
								"value": "{{password}}",
								"type": "text"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"value": "{{account_code}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/contact_counts/{{listfield_contact_id}}",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"contact_counts",
								"{{listfield_contact_id}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Update contact",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "X_USERNAME",
								"type": "text",
								"value": "{{username}}"
							},
							{
								"key": "X_PASSWORD",
								"type": "text",
								"value": "{{password}}"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"type": "text",
								"value": "{{account_code}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"email\": \"ta_126_1_{{connectionId}}@hoohem.com\", \"first_name\": \"bbbbb\"}"
						},
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/v2/contacts",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"v2",
								"contacts"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay 200 Sec",
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=200",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "200"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay 200 Sec",
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=200",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "200"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Search contact report",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();",
									"pm.globals.set(\"contact_report_id\",jsonData.payload.id)",
									" "
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X_USERNAME",
								"value": "{{username}}",
								"type": "text"
							},
							{
								"key": "X_PASSWORD",
								"value": "{{password}}",
								"type": "text"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"value": "{{account_code}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"title\": \"List-field-string-begains-with-not-match\",\n    \"include_behavior\": false,\n    \"filters\": {\n        \"type\": \"Active\",\n        \"criteria\": [\n            {\n                \"field_name\": \"segment\",\n                \"type\": \"segment\",\n                \"operator\": \"=\",\n                \"operand\": [\n                    \"{{listfields_isbeginwith_segment_id}}\"\n                ],\n                \"case_sensitive\": 0,\n                \"condition\": \"and\"\n            }\n        ],\n        \"user_type\": \"all\"\n    },\n    \"combined_as_and\": true,\n    \"selected_fields\": [\n        \"email\",\n        \"ocx_created_date\",\n        \"ocx_status\",\n        \"ocx_unsubscribe_date\",\n        \"ocx_resubscribe_date\",\n        \"ocx_import_id\",\n        \"ocx_bounce_date\",\n        \"ocx_complaint_date\"\n    ]\n}"
						},
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/contact_search",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"contact_search"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay 100 Sec",
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=100",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "100"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay_10_Sec",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.globals.set(\"report_count\", 0);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=10",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "10"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay_20_Sec1",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var count = pm.globals.get(\"report_count\");",
									"count += 1",
									"",
									"pm.globals.set(\"report_count\", count);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=20",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "20"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Contact activity result",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var reportCount = pm.globals.get(\"report_count\");",
									"if(reportCount <=3){",
									"    if(pm.response.code === 412){",
									"        postman.setNextRequest(\"Delay_20_Sec1\")",
									"        console.log(pm.response.json())",
									"    }else{",
									"        var jsonData = pm.response.json();",
									"",
									"        pm.test(\"Check Campaign segmentation List field criteria begains with\", function () {",
									"            pm.expect(jsonData.payload.length).to.equal(0);",
									"        })",
									"    }",
									"}else{",
									"    var jsonData = pm.response.json();",
									"",
									"    pm.test(\"Check Campaign segmentation List field criteria begains with\", function () {",
									"        pm.expect(jsonData.payload.length).to.equal(0);",
									"    })",
									"",
									"}",
									"pm.globals.unset(\"report_count\");",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "X_USERNAME",
								"value": "{{username}}",
								"type": "text"
							},
							{
								"key": "X_PASSWORD",
								"value": "{{password}}",
								"type": "text"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"value": "{{account_code}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/contact_activity/{{contact_report_id}}/result?limit=5000",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"contact_activity",
								"{{contact_report_id}}",
								"result"
							],
							"query": [
								{
									"key": "limit",
									"value": "5000"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Contact-update",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "X_USERNAME",
								"value": "{{username}}",
								"type": "text"
							},
							{
								"key": "X_PASSWORD",
								"value": "{{password}}",
								"type": "text"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"value": "{{account_code}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"email\": \"ta_126_1_{{connectionId}}@hoohem.com\", \"first_name\": \"AAAAA\"}"
						},
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/v2/contacts",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"v2",
								"contacts"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay 200 Sec",
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=200",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "200"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay 200 Sec",
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=200",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "200"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Search contact report",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();",
									"console.log(jsonData.payload.id);",
									"pm.globals.set(\"contact_report_id\",jsonData.payload.id)",
									" "
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X_USERNAME",
								"value": "{{username}}",
								"type": "text"
							},
							{
								"key": "X_PASSWORD",
								"value": "{{password}}",
								"type": "text"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"value": "{{account_code}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"title\": \"List-field-string-begains-with-match\",\n    \"include_behavior\": false,\n    \"filters\": {\n        \"type\": \"Active\",\n        \"criteria\": [\n            {\n                \"field_name\": \"segment\",\n                \"type\": \"segment\",\n                \"operator\": \"=\",\n                \"operand\": [\n                    \"{{listfields_isbeginwith_segment_id}}\"\n                ],\n                \"case_sensitive\": 0,\n                \"condition\": \"and\"\n            }\n        ],\n        \"user_type\": \"all\"\n    },\n    \"combined_as_and\": true,\n    \"selected_fields\": [\n        \"email\",\n        \"ocx_created_date\",\n        \"ocx_status\",\n        \"ocx_unsubscribe_date\",\n        \"ocx_resubscribe_date\",\n        \"ocx_import_id\",\n        \"ocx_bounce_date\",\n        \"ocx_complaint_date\"\n    ]\n}"
						},
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/contact_search",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"contact_search"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay 100 Sec",
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=100",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "100"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay_10_Sec",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.globals.set(\"report_count\", 0);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=10",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "10"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay_20_Sec2",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var count = pm.globals.get(\"report_count\");",
									"count += 1",
									"",
									"pm.globals.set(\"report_count\", count);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=20",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "20"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Contact activity result",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var count = pm.globals.get(\"report_count\");",
									"if(count <=3){",
									"    if(pm.response.code === 412){",
									"        postman.setNextRequest(\"Delay_20_Sec2\")",
									"        console.log(pm.response.json())",
									"    }else{",
									"        var jsonData = pm.response.json();",
									"        pm.test(\"Check Campaign segmentation List field criteria begains with\", function () {",
									"            pm.expect(jsonData.payload.length).to.equal(1);",
									"            pm.expect(jsonData.payload[0].email).to.equal(\"ta_126_1_\"+pm.globals.get(\"connectionId\")+\"@hoohem.com\");",
									"        })",
									"    }",
									"}else{",
									"    var jsonData = pm.response.json();",
									"    pm.test(\"Check Campaign segmentation List field criteria begains with\", function () {",
									"        pm.expect(jsonData.payload.length).to.equal(1);",
									"        pm.expect(jsonData.payload[0].email).to.equal(\"ta_126_1_\"+pm.globals.get(\"connectionId\")+\"@hoohem.com\");",
									"    })",
									"",
									"}",
									"pm.globals.unset(\"report_count\");",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "X_USERNAME",
								"type": "text",
								"value": "{{username}}"
							},
							{
								"key": "X_PASSWORD",
								"type": "text",
								"value": "{{password}}"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"type": "text",
								"value": "{{account_code}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/contact_activity/{{contact_report_id}}/result?limit=5000",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"contact_activity",
								"{{contact_report_id}}",
								"result"
							],
							"query": [
								{
									"key": "limit",
									"value": "5000"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Contact update",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "X_USERNAME",
								"type": "text",
								"value": "{{username}}"
							},
							{
								"key": "X_PASSWORD",
								"type": "text",
								"value": "{{password}}"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"type": "text",
								"value": "{{account_code}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"email\": \"ta_126_1_{{connectionId}}@hoohem.com\", \"first_name\": \"bbbbb\"}"
						},
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/v2/contacts",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"v2",
								"contacts"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete segment",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.globals.unset(\"listfields_isbeginwith_segment_id\");",
									"pm.globals.unset(\"listfield_contact_id\");",
									"pm.globals.unset(\"contact_report_id\");"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "X_USERNAME",
								"value": "{{username}}",
								"type": "text"
							},
							{
								"key": "X_PASSWORD",
								"value": "{{password}}",
								"type": "text"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"value": "{{account_code}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/segments/{{listfields_isbeginwith_segment_id}}",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"segments",
								"{{listfields_isbeginwith_segment_id}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "ends with",
			"item": [
				{
					"name": "get segment",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json()",
									"if(jsonData.payload.length > 0){",
									"    for (var segment of jsonData.payload) {",
									"        if (segment.name === \"Cam_seg_lst_fld_cri_End_with-\" + pm.globals.get(\"connectionId\")){",
									"            pm.globals.set(\"segment_id\", segment.id);",
									"        }      ",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "X_USERNAME",
								"type": "text",
								"value": "{{username}}"
							},
							{
								"key": "X_PASSWORD",
								"type": "text",
								"value": "{{password}}"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"type": "text",
								"value": "{{account_code}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/segments/",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"segments",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete segment",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "X_USERNAME",
								"type": "text",
								"value": "{{username}}"
							},
							{
								"key": "X_PASSWORD",
								"type": "text",
								"value": "{{password}}"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"type": "text",
								"value": "{{account_code}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/segments/{{segment_id}}",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"segments",
								"{{segment_id}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create segment list fields",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();",
									"",
									"pm.globals.set(\"listfields_endswith_segment_id\",jsonData.payload.id)"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X_USERNAME",
								"value": "{{username}}",
								"type": "text"
							},
							{
								"key": "X_PASSWORD",
								"value": "{{password}}",
								"type": "text"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"value": "{{account_code}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n   \"name\":\"Cam_seg_lst_fld_cri_End_with-{{connectionId}}\",\n   \"type\":\"Active\",\n   \"description\":\"Campaign segmentation\",\n   \"criteria\":[\n      {\n      \t\n         \"field_id\":\"{{list_field_first_name_id}}\",\n         \"type\":\"string\",\n         \"position\":0,\n         \"operator\":\"_LIKE\",\n         \"operand\":[\n            \"AAAAA\"\n         ],\n         \"condition\":\"and\"\n      \n      }\n   ]\n}"
						},
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/segments",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"segments"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay 200 Sec",
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=200",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "200"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Check segment count",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json()",
									"pm.globals.set(\"listfield_contact_id\",jsonData.payload.id);",
									" "
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X_USERNAME",
								"type": "text",
								"value": "{{username}}"
							},
							{
								"key": "X_PASSWORD",
								"type": "text",
								"value": "{{password}}"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"type": "text",
								"value": "{{account_code}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"segment_id\": \"{{listfields_endswith_segment_id}}\"\n}"
						},
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/contact_counts",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"contact_counts"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get segment count",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json()",
									"",
									"pm.test(\"Check segment count\", function () {",
									"    if(jsonData.metadata.total === null)",
									"    {",
									"        pm.expect(jsonData.metadata.total).to.equal(null);",
									"    }",
									"    else",
									"    {",
									"        pm.expect(jsonData.metadata.total).to.equal(\"0\");",
									"    }",
									"})"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "X_USERNAME",
								"value": "{{username}}",
								"type": "text"
							},
							{
								"key": "X_PASSWORD",
								"value": "{{password}}",
								"type": "text"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"value": "{{account_code}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/contact_counts/{{listfield_contact_id}}",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"contact_counts",
								"{{listfield_contact_id}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Update contact",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "X_USERNAME",
								"type": "text",
								"value": "{{username}}"
							},
							{
								"key": "X_PASSWORD",
								"type": "text",
								"value": "{{password}}"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"type": "text",
								"value": "{{account_code}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"email\": \"ta_126_1_{{connectionId}}@hoohem.com\", \"first_name\": \"bbbbb\"}"
						},
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/v2/contacts",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"v2",
								"contacts"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay 200 Sec",
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=200",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "200"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay 200 Sec",
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=200",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "200"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Search contact report",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();",
									"pm.globals.set(\"contact_report_id\",jsonData.payload.id)",
									" "
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X_USERNAME",
								"value": "{{username}}",
								"type": "text"
							},
							{
								"key": "X_PASSWORD",
								"value": "{{password}}",
								"type": "text"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"value": "{{account_code}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"title\": \"List-field-string-ends-with-not-match\",\n    \"include_behavior\": false,\n    \"filters\": {\n        \"type\": \"Active\",\n        \"criteria\": [\n            {\n                \"field_name\": \"segment\",\n                \"type\": \"segment\",\n                \"operator\": \"=\",\n                \"operand\": [\n                    \"{{listfields_endswith_segment_id}}\"\n                ],\n                \"case_sensitive\": 0,\n                \"condition\": \"and\"\n            }\n        ],\n        \"user_type\": \"all\"\n    },\n    \"combined_as_and\": true,\n    \"selected_fields\": [\n        \"email\",\n        \"ocx_created_date\",\n        \"ocx_status\",\n        \"ocx_unsubscribe_date\",\n        \"ocx_resubscribe_date\",\n        \"ocx_import_id\",\n        \"ocx_bounce_date\",\n        \"ocx_complaint_date\"\n    ]\n}"
						},
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/contact_search",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"contact_search"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay 100 Sec",
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=100",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "100"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay_10_Sec",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.globals.set(\"report_count\", 0);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=10",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "10"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay_20_Sec3",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var count = pm.globals.get(\"report_count\");",
									"count += 1",
									"",
									"pm.globals.set(\"report_count\", count);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=20",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "20"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Contact activity result",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var count = pm.globals.get(\"report_count\");",
									"if(count <=3){",
									"    if(pm.response.code === 412){",
									"        postman.setNextRequest(\"Delay_20_Sec3\")",
									"        console.log(pm.response.json())",
									"    }else{",
									"        var jsonData = pm.response.json();",
									"",
									"        pm.test(\"Check Campaign segmentation List field criteria End with\", function () {",
									"            pm.expect(jsonData.payload.length).to.equal(0);",
									"        })",
									"    }",
									"}else{",
									"    var jsonData = pm.response.json();",
									"",
									"    pm.test(\"Check Campaign segmentation List field criteria End with\", function () {",
									"        pm.expect(jsonData.payload.length).to.equal(0);",
									"    })",
									"}",
									"pm.globals.unset(\"report_count\");",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "X_USERNAME",
								"value": "{{username}}",
								"type": "text"
							},
							{
								"key": "X_PASSWORD",
								"value": "{{password}}",
								"type": "text"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"value": "{{account_code}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/contact_activity/{{contact_report_id}}/result?limit=5000",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"contact_activity",
								"{{contact_report_id}}",
								"result"
							],
							"query": [
								{
									"key": "limit",
									"value": "5000"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Contact update",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "X_USERNAME",
								"value": "{{username}}",
								"type": "text"
							},
							{
								"key": "X_PASSWORD",
								"value": "{{password}}",
								"type": "text"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"value": "{{account_code}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"email\": \"ta_126_1_{{connectionId}}@hoohem.com\", \"first_name\": \"AAAAA\"}"
						},
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/v2/contacts",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"v2",
								"contacts"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay 200 Sec",
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=200",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "200"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay 200 Sec",
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=200",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "200"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Search contact report",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();",
									"console.log(jsonData.payload.id);",
									"pm.globals.set(\"contact_report_id\",jsonData.payload.id)",
									" "
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X_USERNAME",
								"value": "{{username}}",
								"type": "text"
							},
							{
								"key": "X_PASSWORD",
								"value": "{{password}}",
								"type": "text"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"value": "{{account_code}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"title\": \"List-field-string-ends-with-match\",\n    \"include_behavior\": false,\n    \"filters\": {\n        \"type\": \"Active\",\n        \"criteria\": [\n            {\n                \"field_name\": \"segment\",\n                \"type\": \"segment\",\n                \"operator\": \"=\",\n                \"operand\": [\n                    \"{{listfields_endswith_segment_id}}\"\n                ],\n                \"case_sensitive\": 0,\n                \"condition\": \"and\"\n            }\n        ],\n        \"user_type\": \"all\"\n    },\n    \"combined_as_and\": true,\n    \"selected_fields\": [\n        \"email\",\n        \"ocx_created_date\",\n        \"ocx_status\",\n        \"ocx_unsubscribe_date\",\n        \"ocx_resubscribe_date\",\n        \"ocx_import_id\",\n        \"ocx_bounce_date\",\n        \"ocx_complaint_date\"\n    ]\n}"
						},
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/contact_search",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"contact_search"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay 100 Sec",
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=100",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "100"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay_10_Sec",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.globals.set(\"report_count\", 0);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=10",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "10"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay_20_Sec4",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var count = pm.globals.get(\"report_count\");",
									"count += 1",
									"",
									"pm.globals.set(\"report_count\", count);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=20",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "20"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Contact activity result",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var count = pm.globals.get(\"report_count\");",
									"if(count <=3){",
									"    if(pm.response.code === 412){",
									"        postman.setNextRequest(\"Delay_20_Sec4\")",
									"        console.log(pm.response.json())",
									"    }else{",
									"        var jsonData = pm.response.json();",
									"        pm.test(\"Check Campaign segmentation List field criteria End with\", function () {",
									"            pm.expect(jsonData.payload.length).to.equal(1);",
									"            pm.expect(jsonData.payload[0].email).to.equal(\"ta_126_1_\"+pm.globals.get(\"connectionId\")+\"@hoohem.com\");",
									"        })",
									"    }",
									"}else{",
									"    var jsonData = pm.response.json();",
									"    pm.test(\"Check Campaign segmentation List field criteria End with\", function () {",
									"        pm.expect(jsonData.payload.length).to.equal(1);",
									"        pm.expect(jsonData.payload[0].email).to.equal(\"ta_126_1_\"+pm.globals.get(\"connectionId\")+\"@hoohem.com\");",
									"    })",
									"}",
									"pm.globals.unset(\"report_count\");",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "X_USERNAME",
								"type": "text",
								"value": "{{username}}"
							},
							{
								"key": "X_PASSWORD",
								"type": "text",
								"value": "{{password}}"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"type": "text",
								"value": "{{account_code}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/contact_activity/{{contact_report_id}}/result?limit=5000",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"contact_activity",
								"{{contact_report_id}}",
								"result"
							],
							"query": [
								{
									"key": "limit",
									"value": "5000"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Contact update",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "X_USERNAME",
								"type": "text",
								"value": "{{username}}"
							},
							{
								"key": "X_PASSWORD",
								"type": "text",
								"value": "{{password}}"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"type": "text",
								"value": "{{account_code}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"email\": \"ta_126_1_{{connectionId}}@hoohem.com\", \"first_name\": \"india\"}"
						},
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/v2/contacts",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"v2",
								"contacts"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete segment",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.globals.unset(\"listfields_endswith_segment_id\");",
									"pm.globals.unset(\"listfield_contact_id\");",
									"pm.globals.unset(\"contact_report_id\");"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "X_USERNAME",
								"value": "{{username}}",
								"type": "text"
							},
							{
								"key": "X_PASSWORD",
								"value": "{{password}}",
								"type": "text"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"value": "{{account_code}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/segments/{{listfields_endswith_segment_id}}",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"segments",
								"{{listfields_endswith_segment_id}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Is empty",
			"item": [
				{
					"name": "get segment",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json()",
									"if(jsonData.payload.length > 0){",
									"    for (var segment of jsonData.payload) {",
									"        if (segment.name === \"Cam_seg_lst_fld_cri_is_empty-\" + pm.globals.get(\"connectionId\")){",
									"            pm.globals.set(\"segment_id\", segment.id);",
									"        }      ",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "X_USERNAME",
								"type": "text",
								"value": "{{username}}"
							},
							{
								"key": "X_PASSWORD",
								"type": "text",
								"value": "{{password}}"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"type": "text",
								"value": "{{account_code}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/segments/",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"segments",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete segment",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "X_USERNAME",
								"type": "text",
								"value": "{{username}}"
							},
							{
								"key": "X_PASSWORD",
								"type": "text",
								"value": "{{password}}"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"type": "text",
								"value": "{{account_code}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/segments/{{segment_id}}",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"segments",
								"{{segment_id}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create segment list fields",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();",
									"",
									"pm.globals.set(\"listfields_isempty_segment_id\",jsonData.payload.id)",
									" "
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X_USERNAME",
								"value": "{{username}}",
								"type": "text"
							},
							{
								"key": "X_PASSWORD",
								"value": "{{password}}",
								"type": "text"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"value": "{{account_code}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n   \"name\":\"Cam_seg_lst_fld_cri_is_empty-{{connectionId}}\",\n   \"type\":\"Active\",\n   \"description\":\"Campaign segmentation\",\n   \"criteria\":[\n      {\n         \"field_id\":\"{{list_field_first_name_id}}\",\n         \"type\":\"string\",\n         \"position\":0,\n         \"operator\":\"empty\",\n         \"operand\":[\n            \"\"\n         ],\n         \"condition\":\"and\"\n      }\n   ]\n}"
						},
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/segments",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"segments"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay 200 Sec",
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=200",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "200"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Check segment count",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json()",
									"pm.globals.set(\"listfield_contact_id\",jsonData.payload.id);",
									" "
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X_USERNAME",
								"type": "text",
								"value": "{{username}}"
							},
							{
								"key": "X_PASSWORD",
								"type": "text",
								"value": "{{password}}"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"type": "text",
								"value": "{{account_code}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"segment_id\":\"{{listfields_isempty_segment_id}}\"}"
						},
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/contact_counts",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"contact_counts"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get segment count",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json()",
									"",
									"pm.test(\"Check segment count\", function () {",
									"    if(jsonData.metadata.total === null)",
									"    {",
									"        pm.expect(jsonData.metadata.total).to.equal(null);",
									"    }",
									"    else",
									"    {",
									"        pm.expect(jsonData.metadata.total).to.equal(\"0\");",
									"    }",
									"})"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "X_USERNAME",
								"value": "{{username}}",
								"type": "text"
							},
							{
								"key": "X_PASSWORD",
								"value": "{{password}}",
								"type": "text"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"value": "{{account_code}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/contact_counts/{{listfield_contact_id}}",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"contact_counts",
								"{{listfield_contact_id}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Update contact",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "X_USERNAME",
								"type": "text",
								"value": "{{username}}"
							},
							{
								"key": "X_PASSWORD",
								"type": "text",
								"value": "{{password}}"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"type": "text",
								"value": "{{account_code}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"email\": \"ta_126_1_{{connectionId}}@hoohem.com\", \"first_name\": \"\"}"
						},
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/v2/contacts",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"v2",
								"contacts"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay 200 Sec",
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=200",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "200"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay 200 Sec",
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=200",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "200"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay 200 Sec",
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=200",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "200"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Search contact report",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();",
									"pm.globals.set(\"contact_report_id\",jsonData.payload.id)",
									" "
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X_USERNAME",
								"value": "{{username}}",
								"type": "text"
							},
							{
								"key": "X_PASSWORD",
								"value": "{{password}}",
								"type": "text"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"value": "{{account_code}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"title\": \"List-field-string-is-empty-match\",\n    \"include_behavior\": false,\n    \"filters\": {\n        \"type\": \"Active\",\n        \"criteria\": [\n            {\n                \"field_name\": \"segment\",\n                \"type\": \"segment\",\n                \"operator\": \"=\",\n                \"operand\": [\n                    \"{{listfields_isempty_segment_id}}\"\n                ],\n                \"case_sensitive\": 0,\n                \"condition\": \"and\"\n            }\n        ],\n        \"user_type\": \"all\"\n    },\n    \"combined_as_and\": true,\n    \"selected_fields\": [\n        \"email\",\n        \"ocx_created_date\",\n        \"ocx_status\",\n        \"ocx_unsubscribe_date\",\n        \"ocx_resubscribe_date\",\n        \"ocx_import_id\",\n        \"ocx_bounce_date\",\n        \"ocx_complaint_date\"\n    ]\n}"
						},
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/contact_search",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"contact_search"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay 200 Sec",
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=200",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "200"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay_10_Sec",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.globals.set(\"report_count\", 0);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=10",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "10"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay_20_Sec5",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var count = pm.globals.get(\"report_count\");",
									"count += 1",
									"",
									"pm.globals.set(\"report_count\", count);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=20",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "20"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Contact activity result",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var reportCount = pm.globals.get(\"report_count\");",
									"if(reportCount <=3){",
									"    if(pm.response.code === 412){",
									"        postman.setNextRequest(\"Delay_20_Sec5\")",
									"        console.log(pm.response.json())",
									"    }else{",
									"        var jsonData = pm.response.json();",
									"        count = 0",
									"        if(jsonData.payload.length > 0){",
									"            jsonData.payload.forEach(function(data, index) {",
									"                if(data.email === \"ta_126_1_\"+pm.globals.get(\"connectionId\")+\"@hoohem.com\"){",
									"                    count += 1",
									"                    pm.test(\"Check Campaign segmentation List field criteria is empty\", function () {",
									"                        pm.expect(data.email).to.equal(\"ta_126_1_\"+pm.globals.get(\"connectionId\")+\"@hoohem.com\");",
									"                    })        ",
									"                }",
									"            })",
									"        }",
									"        if(count === 0){",
									"            pm.test(\"Check Campaign segmentation List field criteria is empty\", function () {",
									"                pm.expect(\"\").to.equal(\"ta_126_1_\"+pm.globals.get(\"connectionId\")+\"@hoohem.com\");",
									"            }) ",
									"        }",
									"    }",
									"}else{",
									"    var jsonData = pm.response.json();",
									"    count = 0",
									"    if(jsonData.payload.length > 0){",
									"        jsonData.payload.forEach(function(data, index) {",
									"            if(data.email === \"ta_126_1_\"+pm.globals.get(\"connectionId\")+\"@hoohem.com\"){",
									"                count += 1",
									"                pm.test(\"Check Campaign segmentation List field criteria is empty\", function () {",
									"                    pm.expect(data.email).to.equal(\"ta_126_1_\"+pm.globals.get(\"connectionId\")+\"@hoohem.com\");",
									"                })        ",
									"            }",
									"        })",
									"    }",
									"    if(count === 0){",
									"        pm.test(\"Check Campaign segmentation List field criteria is empty\", function () {",
									"            pm.expect(\"\").to.equal(\"ta_126_1_\"+pm.globals.get(\"connectionId\")+\"@hoohem.com\");",
									"        }) ",
									"    }",
									"}",
									"pm.globals.unset(\"report_count\");",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "X_USERNAME",
								"value": "{{username}}",
								"type": "text"
							},
							{
								"key": "X_PASSWORD",
								"value": "{{password}}",
								"type": "text"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"value": "{{account_code}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/contact_activity/{{contact_report_id}}/result?limit=5000",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"contact_activity",
								"{{contact_report_id}}",
								"result"
							],
							"query": [
								{
									"key": "limit",
									"value": "5000"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Contact update",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "X_USERNAME",
								"value": "{{username}}",
								"type": "text"
							},
							{
								"key": "X_PASSWORD",
								"value": "{{password}}",
								"type": "text"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"value": "{{account_code}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"email\": \"ta_126_1_{{connectionId}}@hoohem.com\", \"first_name\": \"AAAAA\"}"
						},
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/v2/contacts",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"v2",
								"contacts"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay 200 Sec",
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=200",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "200"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay 200 Sec",
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=200",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "200"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay 200 Sec",
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=200",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "200"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Search contact report",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();",
									"",
									"pm.globals.set(\"contact_report_id\",jsonData.payload.id)",
									" "
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X_USERNAME",
								"value": "{{username}}",
								"type": "text"
							},
							{
								"key": "X_PASSWORD",
								"value": "{{password}}",
								"type": "text"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"value": "{{account_code}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"title\": \"List-field-string-is-empty-not-match\",\n    \"include_behavior\": false,\n    \"filters\": {\n        \"type\": \"Active\",\n        \"criteria\": [\n            {\n                \"field_name\": \"segment\",\n                \"type\": \"segment\",\n                \"operator\": \"=\",\n                \"operand\": [\n                    \"{{listfields_isempty_segment_id}}\"\n                ],\n                \"case_sensitive\": 0,\n                \"condition\": \"and\"\n            }\n        ],\n        \"user_type\": \"all\"\n    },\n    \"combined_as_and\": true,\n    \"selected_fields\": [\n        \"email\",\n        \"ocx_created_date\",\n        \"ocx_status\",\n        \"ocx_unsubscribe_date\",\n        \"ocx_resubscribe_date\",\n        \"ocx_import_id\",\n        \"ocx_bounce_date\",\n        \"ocx_complaint_date\"\n    ]\n}"
						},
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/contact_search",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"contact_search"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay 100 Sec",
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=100",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "100"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay_10_Sec",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.globals.set(\"report_count\", 0);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=10",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "10"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay_20_Sec6",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var count = pm.globals.get(\"report_count\");",
									"count += 1",
									"",
									"pm.globals.set(\"report_count\", count);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=20",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "20"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Contact activity result",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var reportCount = pm.globals.get(\"report_count\");",
									"if(reportCount <=3){",
									"    if(pm.response.code === 412){",
									"        postman.setNextRequest(\"Delay_20_Sec6\")",
									"        console.log(pm.response.json())",
									"    }else{",
									"        var jsonData = pm.response.json();",
									"        count = 0",
									"        if(jsonData.payload.length > 0){",
									"            jsonData.payload.forEach(function(data, index) {",
									"                if(data.email === \"ta_126_1_\"+pm.globals.get(\"connectionId\")+\"@hoohem.com\"){",
									"                    count += 1",
									"                    pm.test(\"Check Campaign segmentation List field criteria is empty\", function () {",
									"                        pm.expect(\"\").to.equal(\"ta_126_1_\"+pm.globals.get(\"connectionId\")+\"@hoohem.com\");",
									"                    })        ",
									"                }",
									"            })",
									"        }",
									"        if(count === 0){",
									"            pm.test(\"Check Campaign segmentation List field criteria is empty\", function () {",
									"                pm.expect(\"ta_126_1_\"+pm.globals.get(\"connectionId\")+\"@hoohem.com\").to.equal(\"ta_126_1_\"+pm.globals.get(\"connectionId\")+\"@hoohem.com\");",
									"            }) ",
									"        }",
									"    }",
									"}else{",
									"    var jsonData = pm.response.json();",
									"    count = 0",
									"    if(jsonData.payload.length > 0){",
									"        jsonData.payload.forEach(function(data, index) {",
									"            if(data.email === \"ta_126_1_\"+pm.globals.get(\"connectionId\")+\"@hoohem.com\"){",
									"                count += 1",
									"                pm.test(\"Check Campaign segmentation List field criteria is empty\", function () {",
									"                    pm.expect(\"\").to.equal(\"ta_126_1_\"+pm.globals.get(\"connectionId\")+\"@hoohem.com\");",
									"                })        ",
									"            }",
									"        })",
									"    }",
									"    if(count === 0){",
									"        pm.test(\"Check Campaign segmentation List field criteria is empty\", function () {",
									"            pm.expect(\"ta_126_1_\"+pm.globals.get(\"connectionId\")+\"@hoohem.com\").to.equal(\"ta_126_1_\"+pm.globals.get(\"connectionId\")+\"@hoohem.com\");",
									"        }) ",
									"    }",
									"}",
									"pm.globals.unset(\"report_count\");"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "X_USERNAME",
								"type": "text",
								"value": "{{username}}"
							},
							{
								"key": "X_PASSWORD",
								"type": "text",
								"value": "{{password}}"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"type": "text",
								"value": "{{account_code}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/contact_activity/{{contact_report_id}}/result?limit=5000",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"contact_activity",
								"{{contact_report_id}}",
								"result"
							],
							"query": [
								{
									"key": "limit",
									"value": "5000"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Contact update",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "X_USERNAME",
								"type": "text",
								"value": "{{username}}"
							},
							{
								"key": "X_PASSWORD",
								"type": "text",
								"value": "{{password}}"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"type": "text",
								"value": "{{account_code}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"email\": \"ta_126_1_{{connectionId}}@hoohem.com\", \"first_name\": \"\"}"
						},
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/v2/contacts",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"v2",
								"contacts"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete segment",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.globals.unset(\"listfields_isempty_segment_id\");",
									"pm.globals.unset(\"listfield_contact_id\");",
									"pm.globals.unset(\"contact_report_id\");"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "X_USERNAME",
								"value": "{{username}}",
								"type": "text"
							},
							{
								"key": "X_PASSWORD",
								"value": "{{password}}",
								"type": "text"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"value": "{{account_code}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/segments/{{listfields_isempty_segment_id}}",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"segments",
								"{{listfields_isempty_segment_id}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Is not empty",
			"item": [
				{
					"name": "get segment",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json()",
									"if(jsonData.payload.length > 0){",
									"    for (var segment of jsonData.payload) {",
									"        if (segment.name === \"Cam_seg_lst_fld_cri_is_not_empty-\" + pm.globals.get(\"connectionId\")){",
									"            pm.globals.set(\"segment_id\", segment.id);",
									"        }      ",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "X_USERNAME",
								"type": "text",
								"value": "{{username}}"
							},
							{
								"key": "X_PASSWORD",
								"type": "text",
								"value": "{{password}}"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"type": "text",
								"value": "{{account_code}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/segments/",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"segments",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete segment",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "X_USERNAME",
								"type": "text",
								"value": "{{username}}"
							},
							{
								"key": "X_PASSWORD",
								"type": "text",
								"value": "{{password}}"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"type": "text",
								"value": "{{account_code}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/segments/{{segment_id}}",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"segments",
								"{{segment_id}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create-segment-list-fields",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();",
									"",
									"pm.globals.set(\"listfields_isnotempty_segment_id\",jsonData.payload.id)",
									" "
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X_USERNAME",
								"value": "{{username}}",
								"type": "text"
							},
							{
								"key": "X_PASSWORD",
								"value": "{{password}}",
								"type": "text"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"value": "{{account_code}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n   \"name\":\"Cam_seg_lst_fld_cri_is_not_empty-{{connectionId}}\",\n   \"type\":\"Active\",\n   \"description\":\"Compaign segmentation\",\n   \"criteria\":[\n      {\n      \t\n         \"field_id\":\"{{list_field_first_name_id}}\",\n         \"type\":\"string\",\n         \"position\":0,\n         \"operator\":\"notempty\",\n         \"operand\":[\n            \"AAAAA\"\n         ],\n         \"condition\":\"and\"\n      \n      }\n   ]\n}"
						},
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/segments",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"segments"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay 200 Sec",
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=200",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "200"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Check segment count",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json()",
									"pm.globals.set(\"listfield_contact_id\",jsonData.payload.id);",
									" "
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X_USERNAME",
								"type": "text",
								"value": "{{username}}"
							},
							{
								"key": "X_PASSWORD",
								"type": "text",
								"value": "{{password}}"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"type": "text",
								"value": "{{account_code}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"segment_id\":\"{{listfields_isnotempty_segment_id}}\"}"
						},
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/contact_counts",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"contact_counts"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get segment count",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json()",
									"",
									"pm.test(\"Check segment count\", function () {",
									"    if(jsonData.metadata.total === null)",
									"    {",
									"        pm.expect(jsonData.metadata.total).to.equal(null);",
									"    }",
									"    else",
									"    {",
									"        pm.expect(jsonData.metadata.total).to.equal(\"0\");",
									"    }",
									"})"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "X_USERNAME",
								"value": "{{username}}",
								"type": "text"
							},
							{
								"key": "X_PASSWORD",
								"value": "{{password}}",
								"type": "text"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"value": "{{account_code}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/contact_counts/{{listfield_contact_id}}",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"contact_counts",
								"{{listfield_contact_id}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Update contact",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "X_USERNAME",
								"type": "text",
								"value": "{{username}}"
							},
							{
								"key": "X_PASSWORD",
								"type": "text",
								"value": "{{password}}"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"type": "text",
								"value": "{{account_code}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"email\": \"ta_126_1_{{connectionId}}@hoohem.com\", \"first_name\": \"\"}"
						},
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/v2/contacts",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"v2",
								"contacts"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay 200 Sec",
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=200",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "200"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay 200 Sec",
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=200",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "200"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay 200 Sec",
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=200",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "200"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Search contact report",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();",
									"pm.globals.set(\"contact_report_id\",jsonData.payload.id)",
									" "
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X_USERNAME",
								"value": "{{username}}",
								"type": "text"
							},
							{
								"key": "X_PASSWORD",
								"value": "{{password}}",
								"type": "text"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"value": "{{account_code}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"title\": \"List-field-string-is-not-empty-not-match\",\n    \"include_behavior\": false,\n    \"filters\": {\n        \"type\": \"Active\",\n        \"criteria\": [\n            {\n                \"field_name\": \"segment\",\n                \"type\": \"segment\",\n                \"operator\": \"=\",\n                \"operand\": [\n                    \"{{listfields_isnotempty_segment_id}}\"\n                ],\n                \"case_sensitive\": 0,\n                \"condition\": \"and\"\n            }\n        ],\n        \"user_type\": \"all\"\n    },\n    \"combined_as_and\": true,\n    \"selected_fields\": [\n        \"email\",\n        \"ocx_created_date\",\n        \"ocx_status\",\n        \"ocx_unsubscribe_date\",\n        \"ocx_resubscribe_date\",\n        \"ocx_import_id\",\n        \"ocx_bounce_date\",\n        \"ocx_complaint_date\"\n    ]\n}"
						},
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/contact_search",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"contact_search"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay 100 Sec",
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=100",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "100"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay_10_Sec",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.globals.set(\"report_count\", 0);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=10",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "10"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay_20_Sec7",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var count = pm.globals.get(\"report_count\");",
									"count += 1",
									"",
									"pm.globals.set(\"report_count\", count);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=20",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "20"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Contact activity result",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var reportCount = pm.globals.get(\"report_count\");",
									"if(reportCount <=3){",
									"    if(pm.response.code === 412){",
									"        postman.setNextRequest(\"Delay_20_Sec7\")",
									"        console.log(pm.response.json())",
									"    }else{",
									"        var jsonData = pm.response.json();",
									"",
									"        pm.test(\"Check Campaign segmentation List field criteria is not empty\", function () {",
									"            pm.expect(jsonData.payload.length).to.equal(0);",
									"        })",
									"    }",
									"}else{",
									"    var jsonData = pm.response.json();",
									"",
									"    pm.test(\"Check Campaign segmentation List field criteria is not empty\", function () {",
									"        pm.expect(jsonData.payload.length).to.equal(0);",
									"    })",
									"}",
									"pm.globals.unset(\"report_count\");"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "X_USERNAME",
								"value": "{{username}}",
								"type": "text"
							},
							{
								"key": "X_PASSWORD",
								"value": "{{password}}",
								"type": "text"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"value": "{{account_code}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/contact_activity/{{contact_report_id}}/result?limit=5000",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"contact_activity",
								"{{contact_report_id}}",
								"result"
							],
							"query": [
								{
									"key": "limit",
									"value": "5000"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Contact update",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "X_USERNAME",
								"value": "{{username}}",
								"type": "text"
							},
							{
								"key": "X_PASSWORD",
								"value": "{{password}}",
								"type": "text"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"value": "{{account_code}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"email\": \"ta_126_1_{{connectionId}}@hoohem.com\", \"first_name\": \"AAAAAA\"}"
						},
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/v2/contacts",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"v2",
								"contacts"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay 200 Sec",
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=200",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "200"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay 200 Sec",
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=200",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "200"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay 200 Sec",
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=200",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "200"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Search contact report",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();",
									"console.log(jsonData.payload.id);",
									"pm.globals.set(\"contact_report_id\",jsonData.payload.id)",
									" "
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X_USERNAME",
								"value": "{{username}}",
								"type": "text"
							},
							{
								"key": "X_PASSWORD",
								"value": "{{password}}",
								"type": "text"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"value": "{{account_code}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"title\": \"List-field-string-is-not-empty-match\",\n    \"include_behavior\": false,\n    \"filters\": {\n        \"type\": \"Active\",\n        \"criteria\": [\n            {\n                \"field_name\": \"segment\",\n                \"type\": \"segment\",\n                \"operator\": \"=\",\n                \"operand\": [\n                    \"{{listfields_isnotempty_segment_id}}\"\n                ],\n                \"case_sensitive\": 0,\n                \"condition\": \"and\"\n            }\n        ],\n        \"user_type\": \"all\"\n    },\n    \"combined_as_and\": true,\n    \"selected_fields\": [\n        \"email\",\n        \"ocx_created_date\",\n        \"ocx_status\",\n        \"ocx_unsubscribe_date\",\n        \"ocx_resubscribe_date\",\n        \"ocx_import_id\",\n        \"ocx_bounce_date\",\n        \"ocx_complaint_date\"\n    ]\n}"
						},
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/contact_search",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"contact_search"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay 100 Sec",
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=100",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "100"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay_10_Sec",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.globals.set(\"report_count\", 0);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=10",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "10"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delay_20_Sec8",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var count = pm.globals.get(\"report_count\");",
									"count += 1",
									"",
									"pm.globals.set(\"report_count\", count);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "basic",
							"basic": [
								{
									"key": "password",
									"value": "ongageqa86",
									"type": "string"
								},
								{
									"key": "username",
									"value": "proxy",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://automated_tests-l2.ongage.net/delay?seconds=10",
							"protocol": "https",
							"host": [
								"automated_tests-l2",
								"ongage",
								"net"
							],
							"path": [
								"delay"
							],
							"query": [
								{
									"key": "seconds",
									"value": "10"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Contact activity result",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var reportCount = pm.globals.get(\"report_count\");",
									"if(reportCount <=3){",
									"    if(pm.response.code === 412){",
									"        postman.setNextRequest(\"Delay_20_Sec8\")",
									"        console.log(pm.response.json())",
									"    }else{",
									"        var jsonData = pm.response.json();",
									"        pm.test(\"Check Campaign segmentation List field criteria is not empty\", function () {",
									"            pm.expect(jsonData.payload.length).to.equal(1);",
									"            pm.expect(jsonData.payload[0].email).to.equal(\"ta_126_1_\"+pm.globals.get(\"connectionId\")+\"@hoohem.com\");",
									"        })",
									"    }",
									"}else{",
									"    var jsonData = pm.response.json();",
									"    pm.test(\"Check Campaign segmentation List field criteria is not empty\", function () {",
									"        pm.expect(jsonData.payload.length).to.equal(1);",
									"        pm.expect(jsonData.payload[0].email).to.equal(\"ta_126_1_\"+pm.globals.get(\"connectionId\")+\"@hoohem.com\");",
									"    })",
									"}",
									"pm.globals.unset(\"report_count\");"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "X_USERNAME",
								"type": "text",
								"value": "{{username}}"
							},
							{
								"key": "X_PASSWORD",
								"type": "text",
								"value": "{{password}}"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"type": "text",
								"value": "{{account_code}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/contact_activity/{{contact_report_id}}/result?limit=5000",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"contact_activity",
								"{{contact_report_id}}",
								"result"
							],
							"query": [
								{
									"key": "limit",
									"value": "5000"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Contact update",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "X_USERNAME",
								"type": "text",
								"value": "{{username}}"
							},
							{
								"key": "X_PASSWORD",
								"type": "text",
								"value": "{{password}}"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"type": "text",
								"value": "{{account_code}}"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"email\": \"ta_126_1_{{connectionId}}@hoohem.com\", \"first_name\": \"\"}"
						},
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/v2/contacts",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"v2",
								"contacts"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete segment",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.globals.unset(\"listfields_isnotempty_segment_id\");",
									"pm.globals.unset(\"listfield_contact_id\");",
									"pm.globals.unset(\"contact_report_id\");"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "X_USERNAME",
								"value": "{{username}}",
								"type": "text"
							},
							{
								"key": "X_PASSWORD",
								"value": "{{password}}",
								"type": "text"
							},
							{
								"key": "X_ACCOUNT_CODE",
								"value": "{{account_code}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{api_domain}}/{{list_id}}/api/segments/{{listfields_isnotempty_segment_id}}",
							"host": [
								"{{api_domain}}"
							],
							"path": [
								"{{list_id}}",
								"api",
								"segments",
								"{{listfields_isnotempty_segment_id}}"
							]
						}
					},
					"response": []
				}
			]
		}
	]
}